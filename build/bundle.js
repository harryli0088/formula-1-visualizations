var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function s(t,e,n){t.$$.on_destroy.push(l(e,n))}function c(t,e,n,i){if(t){const r=u(t,e,n,i);return t[0](r)}}function u(t,n,i,r){return t[1]&&r?e(i.ctx.slice(),t[1](r(n))):i.ctx}function d(t,e,n,i,r,o,a){const l=function(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}(e,i,r,o);if(l){const r=u(e,n,i,a);t.p(r,l)}}function h(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function f(t,e){const n={};e=new Set(e);for(const i in t)e.has(i)||"$"===i[0]||(n[i]=t[i]);return n}function g(t){return null==t?"":t}function p(e){return e&&o(e.destroy)?e.destroy:t}function m(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function x(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function k(){return w(" ")}function _(){return w("")}function M(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function H(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function F(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)null==e[i]?t.removeAttribute(i):"style"===i?t.style.cssText=e[i]:"__value"===i?t.value=t[i]=e[i]:n[i]&&n[i].set?t[i]=e[i]:H(t,i,e[i])}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function S(t,e){t.value=null==e?"":e}function T(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}let I,O;function E(){if(void 0===I){I=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){I=!0}}return I}function R(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=x("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=E();let r;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=M(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{r=M(n.contentWindow,"resize",e)}),m(t,n),()=>{(i||r&&n.contentWindow)&&r(),y(n)}}function N(t,e,n){t.classList[n?"add":"remove"](e)}class z{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=x(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)$(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(y)}}function L(t){O=t}function A(){if(!O)throw new Error("Function called outside component initialization");return O}function W(t){A().$$.after_update.push(t)}function D(){const t=A();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);i.slice().forEach((e=>{e.call(t,r)}))}}}function j(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const q=[],P=[],V=[],B=[],U=Promise.resolve();let X=!1;function K(){X||(X=!0,U.then(tt))}function Q(){return K(),U}function Y(t){V.push(t)}function G(t){B.push(t)}let J=!1;const Z=new Set;function tt(){if(!J){J=!0;do{for(let t=0;t<q.length;t+=1){const e=q[t];L(e),et(e.$$)}for(L(null),q.length=0;P.length;)P.pop()();for(let t=0;t<V.length;t+=1){const e=V[t];Z.has(e)||(Z.add(e),e())}V.length=0}while(q.length);for(;B.length;)B.pop()();X=!1,J=!1,Z.clear()}}function et(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}const nt=new Set;let it;function rt(){it={r:0,c:[],p:it}}function ot(){it.r||r(it.c),it=it.p}function at(t,e){t&&t.i&&(nt.delete(t),t.i(e))}function lt(t,e,n,i){if(t&&t.o){if(nt.has(t))return;nt.add(t),it.c.push((()=>{nt.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function st(t,e){const n={},i={},r={$$scope:1};let o=t.length;for(;o--;){const a=t[o],l=e[o];if(l){for(const t in a)t in l||(i[t]=1);for(const t in l)r[t]||(n[t]=l[t],r[t]=1);t[o]=l}else for(const t in a)r[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}function ct(t){return"object"==typeof t&&null!==t?t:{}}function ut(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function dt(t){t&&t.c()}function ht(t,e,i,a){const{fragment:l,on_mount:s,on_destroy:c,after_update:u}=t.$$;l&&l.m(e,i),a||Y((()=>{const e=s.map(n).filter(o);c?c.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(Y)}function ft(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function gt(e,n,o,a,l,s,c=[-1]){const u=O;L(e);const d=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:l,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:n.context||[]),callbacks:i(),dirty:c,skip_bound:!1};let h=!1;if(d.ctx=o?o(e,n.props||{},((t,n,...i)=>{const r=i.length?i[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),h&&function(t,e){-1===t.$$.dirty[0]&&(q.push(t),K(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),h=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(y)}else d.fragment&&d.fragment.c();n.intro&&at(e.$$.fragment),ht(e,n.target,n.anchor,n.customElement),tt()}L(u)}class pt{$destroy(){ft(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}
/*!
     * Font Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com
     * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
     */var mt={prefix:"fas",iconName:"car",icon:[512,512,[],"f1b9","M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"]},$t={prefix:"fas",iconName:"car-crash",icon:[640,512,[],"f5e1","M143.25 220.81l-12.42 46.37c-3.01 11.25-3.63 22.89-2.41 34.39l-35.2 28.98c-6.57 5.41-16.31-.43-14.62-8.77l15.44-76.68c1.06-5.26-2.66-10.28-8-10.79l-77.86-7.55c-8.47-.82-11.23-11.83-4.14-16.54l65.15-43.3c4.46-2.97 5.38-9.15 1.98-13.29L21.46 93.22c-5.41-6.57.43-16.3 8.78-14.62l76.68 15.44c5.26 1.06 10.28-2.66 10.8-8l7.55-77.86c.82-8.48 11.83-11.23 16.55-4.14l43.3 65.14c2.97 4.46 9.15 5.38 13.29 1.98l60.4-49.71c6.57-5.41 16.3.43 14.62 8.77L262.1 86.38c-2.71 3.05-5.43 6.09-7.91 9.4l-32.15 42.97-10.71 14.32c-32.73 8.76-59.18 34.53-68.08 67.74zm494.57 132.51l-12.42 46.36c-3.13 11.68-9.38 21.61-17.55 29.36a66.876 66.876 0 0 1-8.76 7l-13.99 52.23c-1.14 4.27-3.1 8.1-5.65 11.38-7.67 9.84-20.74 14.68-33.54 11.25L515 502.62c-17.07-4.57-27.2-22.12-22.63-39.19l8.28-30.91-247.28-66.26-8.28 30.91c-4.57 17.07-22.12 27.2-39.19 22.63l-30.91-8.28c-12.8-3.43-21.7-14.16-23.42-26.51-.57-4.12-.35-8.42.79-12.68l13.99-52.23a66.62 66.62 0 0 1-4.09-10.45c-3.2-10.79-3.65-22.52-.52-34.2l12.42-46.37c5.31-19.8 19.36-34.83 36.89-42.21a64.336 64.336 0 0 1 18.49-4.72l18.13-24.23 32.15-42.97c3.45-4.61 7.19-8.9 11.2-12.84 8-7.89 17.03-14.44 26.74-19.51 4.86-2.54 9.89-4.71 15.05-6.49 10.33-3.58 21.19-5.63 32.24-6.04 11.05-.41 22.31.82 33.43 3.8l122.68 32.87c11.12 2.98 21.48 7.54 30.85 13.43a111.11 111.11 0 0 1 34.69 34.5c8.82 13.88 14.64 29.84 16.68 46.99l6.36 53.29 3.59 30.05a64.49 64.49 0 0 1 22.74 29.93c4.39 11.88 5.29 25.19 1.75 38.39zM255.58 234.34c-18.55-4.97-34.21 4.04-39.17 22.53-4.96 18.49 4.11 34.12 22.65 39.09 18.55 4.97 45.54 15.51 50.49-2.98 4.96-18.49-15.43-53.67-33.97-58.64zm290.61 28.17l-6.36-53.29c-.58-4.87-1.89-9.53-3.82-13.86-5.8-12.99-17.2-23.01-31.42-26.82l-122.68-32.87a48.008 48.008 0 0 0-50.86 17.61l-32.15 42.97 172 46.08 75.29 20.18zm18.49 54.65c-18.55-4.97-53.8 15.31-58.75 33.79-4.95 18.49 23.69 22.86 42.24 27.83 18.55 4.97 34.21-4.04 39.17-22.53 4.95-18.48-4.11-34.12-22.66-39.09z"]},yt={prefix:"fas",iconName:"flag-checkered",icon:[512,512,[],"f11e","M243.2 189.9V258c26.1 5.9 49.3 15.6 73.6 22.3v-68.2c-26-5.8-49.4-15.5-73.6-22.2zm223.3-123c-34.3 15.9-76.5 31.9-117 31.9C296 98.8 251.7 64 184.3 64c-25 0-47.3 4.4-68 12 2.8-7.3 4.1-15.2 3.6-23.6C118.1 24 94.8 1.2 66.3 0 34.3-1.3 8 24.3 8 56c0 19 9.5 35.8 24 45.9V488c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24v-94.4c28.3-12.1 63.6-22.1 114.4-22.1 53.6 0 97.8 34.8 165.2 34.8 48.2 0 86.7-16.3 122.5-40.9 8.7-6 13.8-15.8 13.8-26.4V95.9c.1-23.3-24.2-38.8-45.4-29zM169.6 325.5c-25.8 2.7-50 8.2-73.6 16.6v-70.5c26.2-9.3 47.5-15 73.6-17.4zM464 191c-23.6 9.8-46.3 19.5-73.6 23.9V286c24.8-3.4 51.4-11.8 73.6-26v70.5c-25.1 16.1-48.5 24.7-73.6 27.1V286c-27 3.7-47.9 1.5-73.6-5.6v67.4c-23.9-7.4-47.3-16.7-73.6-21.3V258c-19.7-4.4-40.8-6.8-73.6-3.8v-70c-22.4 3.1-44.6 10.2-73.6 20.9v-70.5c33.2-12.2 50.1-19.8 73.6-22v71.6c27-3.7 48.4-1.3 73.6 5.7v-67.4c23.7 7.4 47.2 16.7 73.6 21.3v68.4c23.7 5.3 47.6 6.9 73.6 2.7V143c27-4.8 52.3-13.6 73.6-22.5z"]},vt={prefix:"fas",iconName:"question-circle",icon:[512,512,[],"f059","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"]},xt={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},bt={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};function wt(e){let n,i,r;return{c(){n=b("svg"),i=b("path"),H(i,"fill","currentColor"),H(i,"d",e[0]),H(n,"aria-hidden","true"),H(n,"class",r=g(e[1])+" svelte-1d15yci"),H(n,"role","img"),H(n,"xmlns","http://www.w3.org/2000/svg"),H(n,"viewBox",e[2])},m(t,e){$(t,n,e),m(n,i)},p(t,[e]){1&e&&H(i,"d",t[0]),2&e&&r!==(r=g(t[1])+" svelte-1d15yci")&&H(n,"class",r),4&e&&H(n,"viewBox",t[2])},i:t,o:t,d(t){t&&y(n)}}}function kt(t,n,i){let{icon:r}=n,o=[],a="",l="";return t.$$set=t=>{i(4,n=e(e({},n),h(t))),"icon"in t&&i(3,r=t.icon)},t.$$.update=()=>{8&t.$$.dirty&&i(2,l="0 0 "+r.icon[0]+" "+r.icon[1]),i(1,a="fa-svelte "+(n.class?n.class:"")),8&t.$$.dirty&&i(0,o=r.icon[4])},n=h(n),[o,a,l,r]}class _t extends pt{constructor(t){super(),gt(this,t,kt,wt,a,{icon:3})}}const Mt=[];function Ht(t,e){return{subscribe:Ft(t,e).subscribe}}function Ft(e,n=t){let i;const r=[];function o(t){if(a(e,t)&&(e=t,i)){const t=!Mt.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),Mt.push(n,e)}if(t){for(let t=0;t<Mt.length;t+=2)Mt[t][0](Mt[t+1]);Mt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,l=t){const s=[a,l];return r.push(s),1===r.length&&(i=n(o)||t),a(e),()=>{const t=r.indexOf(s);-1!==t&&r.splice(t,1),0===r.length&&(i(),i=null)}}}}function Ct(e,n,i){const a=!Array.isArray(e),s=a?[e]:e,c=n.length<2;return Ht(i,(e=>{let i=!1;const u=[];let d=0,h=t;const f=()=>{if(d)return;h();const i=n(a?u[0]:u,e);c?e(i):h=o(i)?i:t},g=s.map(((t,e)=>l(t,(t=>{u[e]=t,d&=~(1<<e),i&&f()}),(()=>{d|=1<<e}))));return i=!0,f(),function(){r(g),h()}}))}function St(t){let n,i,r;const o=[t[2]];var a=t[0];function l(t){let n={};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return a&&(n=new a(l()),n.$on("routeEvent",t[7])),{c(){n&&dt(n.$$.fragment),i=_()},m(t,e){n&&ht(n,t,e),$(t,i,e),r=!0},p(t,e){const r=4&e?st(o,[ct(t[2])]):{};if(a!==(a=t[0])){if(n){rt();const t=n;lt(t.$$.fragment,1,0,(()=>{ft(t,1)})),ot()}a?(n=new a(l()),n.$on("routeEvent",t[7]),dt(n.$$.fragment),at(n.$$.fragment,1),ht(n,i.parentNode,i)):n=null}else a&&n.$set(r)},i(t){r||(n&&at(n.$$.fragment,t),r=!0)},o(t){n&&lt(n.$$.fragment,t),r=!1},d(t){t&&y(i),n&&ft(n,t)}}}function Tt(t){let n,i,r;const o=[{params:t[1]},t[2]];var a=t[0];function l(t){let n={};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return a&&(n=new a(l()),n.$on("routeEvent",t[6])),{c(){n&&dt(n.$$.fragment),i=_()},m(t,e){n&&ht(n,t,e),$(t,i,e),r=!0},p(t,e){const r=6&e?st(o,[2&e&&{params:t[1]},4&e&&ct(t[2])]):{};if(a!==(a=t[0])){if(n){rt();const t=n;lt(t.$$.fragment,1,0,(()=>{ft(t,1)})),ot()}a?(n=new a(l()),n.$on("routeEvent",t[6]),dt(n.$$.fragment),at(n.$$.fragment,1),ht(n,i.parentNode,i)):n=null}else a&&n.$set(r)},i(t){r||(n&&at(n.$$.fragment,t),r=!0)},o(t){n&&lt(n.$$.fragment,t),r=!1},d(t){t&&y(i),n&&ft(n,t)}}}function It(t){let e,n,i,r;const o=[Tt,St],a=[];function l(t,e){return t[1]?0:1}return e=l(t),n=a[e]=o[e](t),{c(){n.c(),i=_()},m(t,n){a[e].m(t,n),$(t,i,n),r=!0},p(t,[r]){let s=e;e=l(t),e===s?a[e].p(t,r):(rt(),lt(a[s],1,1,(()=>{a[s]=null})),ot(),n=a[e],n?n.p(t,r):(n=a[e]=o[e](t),n.c()),at(n,1),n.m(i.parentNode,i))},i(t){r||(at(n),r=!0)},o(t){lt(n),r=!1},d(t){a[e].d(t),t&&y(i)}}}function Ot(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let i="";return n>-1&&(i=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:i}}const Et=Ht(null,(function(t){t(Ot());const e=()=>{t(Ot())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));function Rt(t,e){if(!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');return Nt(t,e||t.getAttribute("href")),{update(e){Nt(t,e)}}}function Nt(t,e){if(!e||e.length<1||"/"!=e.charAt(0))throw Error('Invalid value for "href" attribute: '+e);t.setAttribute("href","#"+e),t.addEventListener("click",zt)}function zt(t){t.preventDefault();const e=t.currentTarget.getAttribute("href");history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=e}function Lt(t,e,n){let{routes:i={}}=e,{prefix:r=""}=e,{restoreScrollState:o=!1}=e;class a{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:i}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,i,r,o,a=[],l="",s=t.split("/");for(s[0]||s.shift();r=s.shift();)"*"===(n=r[0])?(a.push("wild"),l+="/(.*)"):":"===n?(i=r.indexOf("?",1),o=r.indexOf(".",1),a.push(r.substring(1,~i?i:~o?o:r.length)),l+=~i&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(l+=(~i?"?":"")+"\\"+r.substring(o))):l+="/"+r;return{keys:a,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=i}match(t){if(r)if("string"==typeof r){if(!t.startsWith(r))return null;t=t.substr(r.length)||"/"}else if(r instanceof RegExp){const e=t.match(r);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let i=0;for(;i<this._keys.length;){try{n[this._keys[i]]=decodeURIComponent(e[i+1]||"")||null}catch(t){n[this._keys[i]]=null}i++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const l=[];i instanceof Map?i.forEach(((t,e)=>{l.push(new a(e,t))})):Object.keys(i).forEach((t=>{l.push(new a(t,i[t]))}));let s=null,c=null,u={};const d=D();async function h(t,e){await Q(),d(t,e)}let f=null;o&&(window.addEventListener("popstate",(t=>{f=t.state&&t.state.scrollY?t.state:null})),W((()=>{f?window.scrollTo(f.scrollX,f.scrollY):window.scrollTo(0,0)})));let g=null,p=null;return Et.subscribe((async t=>{g=t;let e=0;for(;e<l.length;){const i=l[e].match(t.location);if(!i){e++;continue}const r={route:l[e].path,location:t.location,querystring:t.querystring,userData:l[e].userData};if(!await l[e].checkConditions(r))return n(0,s=null),p=null,void h("conditionsFailed",r);h("routeLoading",Object.assign({},r));const o=l[e].component;if(p!=o){o.loading?(n(0,s=o.loading),p=o,n(1,c=o.loadingParams),n(2,u={}),h("routeLoaded",Object.assign({},r,{component:s,name:s.name}))):(n(0,s=null),p=null);const e=await o();if(t!=g)return;n(0,s=e&&e.default||e),p=o}return i&&"object"==typeof i&&Object.keys(i).length?n(1,c=i):n(1,c=null),n(2,u=l[e].props),void h("routeLoaded",Object.assign({},r,{component:s,name:s.name}))}n(0,s=null),p=null})),t.$$set=t=>{"routes"in t&&n(3,i=t.routes),"prefix"in t&&n(4,r=t.prefix),"restoreScrollState"in t&&n(5,o=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[s,c,u,i,r,o,function(e){j(t,e)},function(e){j(t,e)}]}Ct(Et,(t=>t.location)),Ct(Et,(t=>t.querystring));class At extends pt{constructor(t){super(),gt(this,t,Lt,It,a,{routes:3,prefix:4,restoreScrollState:5})}}function Wt(t,e){return t.reduce(((t,n)=>{const i=n[e];return void 0!==t[i]&&console.log(`Identifier ${i} already exists for key ${e}`),t[i]=n,t}),{})}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Dt(t){var e={exports:{}};return t(e,e.exports),e.exports
/* @license
    Papa Parse
    v5.3.0
    https://github.com/mholt/PapaParse
    License: MIT
    */}var jt=Dt((function(t,e){t.exports=function t(){var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,i=n&&/blob:/i.test((e.location||{}).protocol),r={},o=0,a={parse:function(n,i){var l=(i=i||{}).dynamicTyping||!1;if(b(l)&&(i.dynamicTypingFunction=l,l={}),i.dynamicTyping=l,i.transform=!!b(i.transform)&&i.transform,i.worker&&a.WORKERS_SUPPORTED){var s=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,i,l=(n=e.URL||e.webkitURL||null,i=t.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["(",i,")();"],{type:"text/javascript"})))),s=new e.Worker(l);return s.onmessage=m,s.id=o++,r[s.id]=s}();return s.userStep=i.step,s.userChunk=i.chunk,s.userComplete=i.complete,s.userError=i.error,i.step=b(i.step),i.chunk=b(i.chunk),i.complete=b(i.complete),i.error=b(i.error),delete i.worker,void s.postMessage({input:n,config:i,workerId:s.id})}var f=null;return"string"==typeof n?f=i.download?new c(i):new d(i):!0===n.readable&&b(n.read)&&b(n.on)?f=new h(i):(e.File&&n instanceof File||n instanceof Object)&&(f=new u(i)),f.stream(n)},unparse:function(t,e){var n=!1,i=!0,r=",",o="\r\n",l='"',s=l+l,c=!1,u=null,d=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||a.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(r=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(c=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(l=e.quoteChar),"boolean"==typeof e.header&&(i=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");u=e.columns}void 0!==e.escapeChar&&(s=e.escapeChar+l),"boolean"==typeof e.escapeFormulae&&(d=e.escapeFormulae)}}();var h=new RegExp(g(l),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return p(null,t,c);if("object"==typeof t[0])return p(u||f(t[0]),t,c)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:f(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),p(t.fields||[],t.data||[],c);throw new Error("Unable to serialize unrecognized input");function f(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function p(t,e,n){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var l=Array.isArray(t)&&0<t.length,s=!Array.isArray(e[0]);if(l&&i){for(var c=0;c<t.length;c++)0<c&&(a+=r),a+=m(t[c],c);0<e.length&&(a+=o)}for(var u=0;u<e.length;u++){var d=l?t.length:e[u].length,h=!1,f=l?0===Object.keys(e[u]).length:0===e[u].length;if(n&&!l&&(h="greedy"===n?""===e[u].join("").trim():1===e[u].length&&0===e[u][0].length),"greedy"===n&&l){for(var g=[],p=0;p<d;p++){var $=s?t[p]:p;g.push(e[u][$])}h=""===g.join("").trim()}if(!h){for(var y=0;y<d;y++){0<y&&!f&&(a+=r);var v=l&&s?t[y]:y;a+=m(e[u][v],y)}u<e.length-1&&(!n||0<d&&!f)&&(a+=o)}}return a}function m(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);!0===d&&"string"==typeof t&&null!==t.match(/^[=+\-@].*$/)&&(t="'"+t);var i=t.toString().replace(h,s);return"boolean"==typeof n&&n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(i,a.BAD_DELIMITERS)||-1<i.indexOf(r)||" "===i.charAt(0)||" "===i.charAt(i.length-1)?l+i+l:i}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!e.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=p,a.ParserHandle=f,a.NetworkStreamer=c,a.FileStreamer=u,a.StringStreamer=d,a.ReadableStreamStreamer=h,e.jQuery){var l=e.jQuery;l.fn.parse=function(t){var n=t.config||{},i=[];return this.each((function(t){if("INPUT"!==l(this).prop("tagName").toUpperCase()||"file"!==l(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:l.extend({},n)})})),r(),this;function r(){if(0!==i.length){var e,n,r,s,c=i[0];if(b(t.before)){var u=t.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return e="AbortError",n=c.file,r=c.inputElem,s=u.reason,void(b(t.error)&&t.error({name:e},n,r,s));if("skip"===u.action)return void o();"object"==typeof u.config&&(c.instanceConfig=l.extend(c.instanceConfig,u.config))}else if("skip"===u)return void o()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(t){b(d)&&d(t,c.file,c.inputElem),o()},a.parse(c.file,c.instanceConfig)}else b(t.complete)&&t.complete()}function o(){i.splice(0,1),r()}}}function s(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=v(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new f(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&b(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(t);void 0!==r&&(t=r)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var l=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=l.meta.cursor;this._finished||(this._partialLine=o.substring(s-this._baseIndex),this._baseIndex=s),l&&l.data&&(this._rowCount+=l.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)e.postMessage({results:l,workerId:a.WORKER_ID,finished:c});else if(b(this._config.chunk)&&!n){if(this._config.chunk(l,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);l=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(l.data),this._completeResults.errors=this._completeResults.errors.concat(l.errors),this._completeResults.meta=l.meta),this._completed||!c||!b(this._config.complete)||l&&l.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||l&&l.meta.paused||this._nextChunk(),l}this._halted=!0},this._sendError=function(t){b(this._config.error)?this._config.error(t):i&&this._config.error&&e.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function c(t){var e;(t=t||{}).chunkSize||(t.chunkSize=a.RemoteChunkSize),s.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=x(this._chunkLoaded,this),e.onerror=x(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var i in t)e.setRequestHeader(i,t[i])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+r)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function u(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=a.LocalChunkSize),s.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=x(this._chunkLoaded,this),e.onerror=x(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function d(t){var e;s.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function h(t){s.call(this,t=t||{});var e=[],n=!0,i=!1;this.pause=function(){s.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){s.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=x((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=x((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=x((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=x((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(t){var e,n,i,r=Math.pow(2,53),o=-r,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,s=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,c=this,u=0,d=0,h=!1,f=!1,m=[],$={data:[],errors:[],meta:{}};if(b(t.step)){var y=t.step;t.step=function(e){if($=e,k())w();else{if(w(),0===$.data.length)return;u+=e.data.length,t.preview&&u>t.preview?n.abort():($.data=$.data[0],y($,c))}}}function x(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function w(){if($&&i&&(M("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines)for(var e=0;e<$.data.length;e++)x($.data[e])&&$.data.splice(e--,1);return k()&&function(){if($)if(Array.isArray($.data[0])){for(var e=0;k()&&e<$.data.length;e++)$.data[e].forEach(n);$.data.splice(0,1)}else $.data.forEach(n);function n(e,n){b(t.transformHeader)&&(e=t.transformHeader(e,n)),m.push(e)}}(),function(){if(!$||!t.header&&!t.dynamicTyping&&!t.transform)return $;function e(e,n){var i,r=t.header?{}:[];for(i=0;i<e.length;i++){var o=i,a=e[i];t.header&&(o=i>=m.length?"__parsed_extra":m[i]),t.transform&&(a=t.transform(a,o)),a=_(o,a),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(a)):r[o]=a}return t.header&&(i>m.length?M("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+i,d+n):i<m.length&&M("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+i,d+n)),r}var n=1;return!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(e),n=$.data.length):$.data=e($.data,0),t.header&&$.meta&&($.meta.fields=m),d+=n,$}()}function k(){return t.header&&0===m.length}function _(e,n){return i=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[i]&&(t.dynamicTyping[i]=t.dynamicTypingFunction(i)),!0===(t.dynamicTyping[i]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(l.test(t)){var e=parseFloat(t);if(o<e&&e<r)return!0}return!1}(n)?parseFloat(n):s.test(n)?new Date(n):""===n?null:n):n;var i}function M(t,e,n,i){var r={type:t,code:e,message:n};void 0!==i&&(r.row=i),$.errors.push(r)}this.parse=function(r,o,l){var s=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(g(e)+"([^]*?)"+g(e),"gm"),i=(t=t.replace(n,"")).split("\r"),r=t.split("\n"),o=1<r.length&&r[0].length<i[0].length;if(1===i.length||o)return"\n";for(var a=0,l=0;l<i.length;l++)"\n"===i[l][0]&&a++;return a>=i.length/2?"\r\n":"\r"}(r,s)),i=!1,t.delimiter)b(t.delimiter)&&(t.delimiter=t.delimiter(r),$.meta.delimiter=t.delimiter);else{var c=function(e,n,i,r,o){var l,s,c,u;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var d=0;d<o.length;d++){var h=o[d],f=0,g=0,m=0;c=void 0;for(var $=new p({comments:r,delimiter:h,newline:n,preview:10}).parse(e),y=0;y<$.data.length;y++)if(i&&x($.data[y]))m++;else{var v=$.data[y].length;g+=v,void 0!==c?0<v&&(f+=Math.abs(v-c),c=v):c=v}0<$.data.length&&(g/=$.data.length-m),(void 0===s||f<=s)&&(void 0===u||u<g)&&1.99<g&&(s=f,l=h,u=g)}return{successful:!!(t.delimiter=l),bestDelimiter:l}}(r,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);c.successful?t.delimiter=c.bestDelimiter:(i=!0,t.delimiter=a.DefaultDelimiter),$.meta.delimiter=t.delimiter}var u=v(t);return t.preview&&t.header&&u.preview++,e=r,n=new p(u),$=n.parse(e,o,l),w(),h?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),e=b(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(h=!1,c.streamer.parseChunk(e,!0)):setTimeout(c.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),$.meta.aborted=!0,b(t.complete)&&t.complete($),e=""}}function g(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(t){var e,n=(t=t||{}).delimiter,i=t.newline,r=t.comments,o=t.step,l=t.preview,s=t.fastMode,c=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(c=t.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<a.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var u=0,d=!1;this.parse=function(t,a,h){if("string"!=typeof t)throw new Error("Input must be a string");var f=t.length,p=n.length,m=i.length,$=r.length,y=b(o),v=[],x=[],w=[],k=u=0;if(!t)return L();if(s||!1!==s&&-1===t.indexOf(e)){for(var _=t.split(i),M=0;M<_.length;M++){if(w=_[M],u+=w.length,M!==_.length-1)u+=i.length;else if(h)return L();if(!r||w.substring(0,$)!==r){if(y){if(v=[],E(w.split(n)),A(),d)return L()}else E(w.split(n));if(l&&l<=M)return v=v.slice(0,l),L(!0)}}return L()}for(var H=t.indexOf(n,u),F=t.indexOf(i,u),C=new RegExp(g(c)+g(e),"g"),S=t.indexOf(e,u);;)if(t[u]!==e)if(r&&0===w.length&&t.substring(u,u+$)===r){if(-1===F)return L();u=F+m,F=t.indexOf(i,u),H=t.indexOf(n,u)}else{if(-1!==H&&(H<F||-1===F)){if(!(H<S)){w.push(t.substring(u,H)),u=H+p,H=t.indexOf(n,u);continue}var T=W(H,S,F);if(T&&void 0!==T.nextDelim){H=T.nextDelim,S=T.quoteSearch,w.push(t.substring(u,H)),u=H+p,H=t.indexOf(n,u);continue}}if(-1===F)break;if(w.push(t.substring(u,F)),z(F+m),y&&(A(),d))return L();if(l&&v.length>=l)return L(!0)}else for(S=u,u++;;){if(-1===(S=t.indexOf(e,S+1)))return h||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:u}),N();if(S===f-1)return N(t.substring(u,S).replace(C,e));if(e!==c||t[S+1]!==c){if(e===c||0===S||t[S-1]!==c){-1!==H&&H<S+1&&(H=t.indexOf(n,S+1)),-1!==F&&F<S+1&&(F=t.indexOf(i,S+1));var I=R(-1===F?H:Math.min(H,F));if(t[S+1+I]===n){w.push(t.substring(u,S).replace(C,e)),t[u=S+1+I+p]!==e&&(S=t.indexOf(e,u)),H=t.indexOf(n,u),F=t.indexOf(i,u);break}var O=R(F);if(t.substring(S+1+O,S+1+O+m)===i){if(w.push(t.substring(u,S).replace(C,e)),z(S+1+O+m),H=t.indexOf(n,u),S=t.indexOf(e,u),y&&(A(),d))return L();if(l&&v.length>=l)return L(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:u}),S++}}else S++}return N();function E(t){v.push(t),k=u}function R(e){var n=0;if(-1!==e){var i=t.substring(S+1,e);i&&""===i.trim()&&(n=i.length)}return n}function N(e){return h||(void 0===e&&(e=t.substring(u)),w.push(e),u=f,E(w),y&&A()),L()}function z(e){u=e,E(w),w=[],F=t.indexOf(i,u)}function L(t){return{data:v,errors:x,meta:{delimiter:n,linebreak:i,aborted:d,truncated:!!t,cursor:k+(a||0)}}}function A(){o(L()),v=[],x=[]}function W(i,r,o){var a={nextDelim:void 0,quoteSearch:void 0},l=t.indexOf(e,r+1);if(r<i&&i<l&&(l<o||-1===o)){var s=t.indexOf(n,l);if(-1===s)return a;l<s&&(l=t.indexOf(e,l+1)),a=W(s,l,o)}else a={nextDelim:i,quoteSearch:r};return a}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function m(t){var e=t.data,n=r[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){i=!0,$(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(b(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:e.results.data[a],errors:e.results.errors,meta:e.results.meta},o),!i);a++);delete e.results}else b(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!i&&$(e.workerId,e.results)}function $(t,e){var n=r[t];b(n.userComplete)&&n.userComplete(e),n.terminate(),delete r[t]}function y(){throw new Error("Not implemented.")}function v(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=v(t[n]);return e}function x(t,e){return function(){t.apply(e,arguments)}}function b(t){return"function"==typeof t}return i&&(e.onmessage=function(t){var n=t.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var i=a.parse(n.input,n.config);i&&e.postMessage({workerId:a.WORKER_ID,results:i,finished:!0})}}),(c.prototype=Object.create(s.prototype)).constructor=c,(u.prototype=Object.create(s.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(h.prototype=Object.create(s.prototype)).constructor=h,a}()}));function qt(t){return new Promise(((e,n)=>{jt.parse(`${window.location.origin}${window.location.pathname}${t}`,{header:!0,download:!0,worker:!0,complete:function(t){e(t.data)},skipEmptyLines:!0})}))}const Pt=Ht([],(function(t){return qt("data/circuits.csv").then(t),function(){}})),Vt=Ht([],(function(t){return qt("data/drivers.csv").then(t),function(){}})),Bt=Ht([],(function(t){return qt("data/qualifying.csv").then(t),function(){}})),Ut=Ht([],(function(t){return qt("data/races.csv").then(t),function(){}})),Xt=Ht([],(function(t){return qt("data/results.csv").then((e=>t(e.filter((t=>{var e;return null===(e=t.resultId)||void 0===e?void 0:e.length}))))),function(){}})),Kt=Ht([],(function(t){return qt("data/status.csv").then(t),function(){}})),Qt=Ct(Ut,(t=>Wt(t,"raceId")),{}),Yt=Ct(Kt,(t=>Wt(t,"statusId")),{}),Gt=Ct([Xt,Qt],(([t,e])=>t.reduce(((t,n)=>{const i=e[n.raceId];return null===t||t.date<i.date?i:t}),null)),null),Jt=Ct(Gt,(t=>t?`(Up-to-date to the ${t.date} ${t.name})`:""));function Zt(t){return t?`${t.name}, ${t.country}`:""}var te=Dt((function(t,e){!function(){var e={};t.exports=e,e.simpleFilter=function(t,n){return n.filter((function(n){return e.test(t,n)}))},e.test=function(t,n){return null!==e.match(t,n)},e.match=function(t,e,n){n=n||{};var i,r=0,o=[],a=e.length,l=0,s=0,c=n.pre||"",u=n.post||"",d=n.caseSensitive&&e||e.toLowerCase();t=n.caseSensitive&&t||t.toLowerCase();for(var h=0;h<a;h++)i=e[h],d[h]===t[r]?(i=c+i+u,r+=1,s+=1+s):s=0,l+=s,o[o.length]=i;return r===t.length?(l=d===t?1/0:l,{rendered:o.join(""),score:l}):null},e.filter=function(t,n,i){return n&&0!==n.length?"string"!=typeof t?n:(i=i||{},n.reduce((function(n,r,o,a){var l=r;i.extract&&(l=i.extract(r));var s=e.match(t,l,i);return null!=s&&(n[n.length]={string:s.rendered,score:s.score,index:o,original:r}),n}),[]).sort((function(t,e){var n=e.score-t.score;return n||t.index-e.index}))):[]}}()}));const ee=t=>({}),ne=t=>({});function ie(t){let n,i,o,a,l,s,u,h,f,g;const p=t[10].label,v=c(p,t,t[9],ne),b=v||function(t){let e;return{c(){e=w(t[2])},m(t,n){$(t,e,n)},p(t,n){4&n&&C(e,t[2])},d(t){t&&y(e)}}}(t);let _=[{name:"search"},{type:"search"},{placeholder:"Search..."},{autocomplete:"off"},{spellcheck:"false"},t[6],{id:t[4]}],T={};for(let t=0;t<_.length;t+=1)T=e(T,_[t]);return{c(){n=x("form"),i=x("label"),b&&b.c(),a=k(),l=x("input"),H(i,"id",o=t[4]+"-label"),H(i,"for",t[4]),H(i,"class","svelte-5m0wg6"),N(i,"hide-label",t[3]),F(l,T),N(l,"svelte-5m0wg6",!0),H(n,"data-svelte-search",""),H(n,"role",s=t[5]?null:"search"),H(n,"aria-labelledby",u=t[5]?null:t[4])},m(e,r){var o;$(e,n,r),m(n,i),b&&b.m(i,null),m(n,a),m(n,l),t[17](l),S(l,t[0]),h=!0,f||(g=[M(l,"input",t[18]),M(l,"input",t[12]),M(l,"change",t[13]),M(l,"focus",t[14]),M(l,"blur",t[15]),M(l,"keydown",t[16]),M(n,"submit",(o=t[11],function(t){return t.preventDefault(),o.call(this,t)}))],f=!0)},p(t,[e]){v?v.p&&(!h||512&e)&&d(v,p,t,t[9],e,ee,ne):b&&b.p&&4&e&&b.p(t,e),(!h||16&e&&o!==(o=t[4]+"-label"))&&H(i,"id",o),(!h||16&e)&&H(i,"for",t[4]),8&e&&N(i,"hide-label",t[3]),F(l,T=st(_,[{name:"search"},{type:"search"},{placeholder:"Search..."},{autocomplete:"off"},{spellcheck:"false"},64&e&&t[6],(!h||16&e)&&{id:t[4]}])),1&e&&S(l,t[0]),N(l,"svelte-5m0wg6",!0),(!h||32&e&&s!==(s=t[5]?null:"search"))&&H(n,"role",s),(!h||48&e&&u!==(u=t[5]?null:t[4]))&&H(n,"aria-labelledby",u)},i(t){h||(at(b,t),h=!0)},o(t){lt(b,t),h=!1},d(e){e&&y(n),b&&b.d(e),t[17](null),f=!1,r(g)}}}function re(t,n,i){const r=["value","autofocus","debounce","label","hideLabel","id","ref","removeFormAriaAttributes"];let o=f(n,r),{$$slots:a={},$$scope:l}=n,{value:s=""}=n,{autofocus:c=!1}=n,{debounce:u=0}=n,{label:d="Label"}=n,{hideLabel:g=!1}=n,{id:p="search"+Math.random().toString(36)}=n,{ref:m=null}=n,{removeFormAriaAttributes:$=!1}=n;const y=D();let v,x=s,b=!1;var w;return w=()=>(c&&window.requestAnimationFrame((()=>m.focus())),()=>clearTimeout(v)),A().$$.on_mount.push(w),W((()=>{var t;s.length>0&&s!==x&&(u>0?(t=()=>y("type",s),b||(b=!0,v=setTimeout((()=>{t(),b=!1}),u))):y("type",s)),0===s.length&&x.length>0&&y("clear"),x=s})),t.$$set=t=>{n=e(e({},n),h(t)),i(6,o=f(n,r)),"value"in t&&i(0,s=t.value),"autofocus"in t&&i(7,c=t.autofocus),"debounce"in t&&i(8,u=t.debounce),"label"in t&&i(2,d=t.label),"hideLabel"in t&&i(3,g=t.hideLabel),"id"in t&&i(4,p=t.id),"ref"in t&&i(1,m=t.ref),"removeFormAriaAttributes"in t&&i(5,$=t.removeFormAriaAttributes),"$$scope"in t&&i(9,l=t.$$scope)},[s,m,d,g,p,$,o,c,u,l,a,function(e){j(t,e)},function(e){j(t,e)},function(e){j(t,e)},function(e){j(t,e)},function(e){j(t,e)},function(e){j(t,e)},function(t){P[t?"unshift":"push"]((()=>{m=t,i(1,m)}))},function(){s=this.value,i(0,s)}]}class oe extends pt{constructor(t){super(),gt(this,t,re,ie,a,{value:0,autofocus:7,debounce:8,label:2,hideLabel:3,id:4,ref:1,removeFormAriaAttributes:5})}}function ae(t,e,n){const i=t.slice();return i[38]=e[n],i[40]=n,i}const le=t=>({result:2&t[0]}),se=t=>({result:t[38],index:t[40]});function ce(t){let e,n,i=t[1],r=[];for(let e=0;e<i.length;e+=1)r[e]=ue(ae(t,i,e));const o=t=>lt(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=_()},m(t,i){for(let e=0;e<r.length;e+=1)r[e].m(t,i);$(t,e,i),n=!0},p(t,n){if(262342&n[0]){let a;for(i=t[1],a=0;a<i.length;a+=1){const o=ae(t,i,a);r[a]?(r[a].p(o,n),at(r[a],1)):(r[a]=ue(o),r[a].c(),at(r[a],1),r[a].m(e.parentNode,e))}for(rt(),a=i.length;a<r.length;a+=1)o(a);ot()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)at(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)lt(r[t]);n=!1},d(t){v(r,t),t&&y(e)}}}function ue(t){let e,n,i,r,o,a,l;const s=t[19].default,u=c(s,t,t[18],se),h=u||function(t){let e,n,i=t[38].string+"";return{c(){n=_(),e=new z(n)},m(t,r){e.m(i,t,r),$(t,n,r)},p(t,n){2&n[0]&&i!==(i=t[38].string+"")&&e.p(i)},d(t){t&&y(n),t&&e.d()}}}(t);function f(){return t[33](t[38],t[40])}return{c(){e=x("li"),h&&h.c(),n=k(),H(e,"role","option"),H(e,"id",i=t[2]+"-result-"+t[40]),H(e,"aria-selected",r=t[6]===t[40]),H(e,"class","svelte-t0wd5r"),N(e,"selected",t[6]===t[40]),N(e,"disabled",t[38].disabled)},m(t,i){$(t,e,i),h&&h.m(e,null),m(e,n),o=!0,a||(l=M(e,"click",f),a=!0)},p(n,a){t=n,u?u.p&&(!o||262146&a[0])&&d(u,s,t,t[18],a,le,se):h&&h.p&&2&a[0]&&h.p(t,a),(!o||4&a[0]&&i!==(i=t[2]+"-result-"+t[40]))&&H(e,"id",i),(!o||64&a[0]&&r!==(r=t[6]===t[40]))&&H(e,"aria-selected",r),64&a[0]&&N(e,"selected",t[6]===t[40]),2&a[0]&&N(e,"disabled",t[38].disabled)},i(t){o||(at(h,t),o=!0)},o(t){lt(h,t),o=!1},d(t){t&&y(e),h&&h.d(t),a=!1,l()}}}function de(t){let n,i,r,o,a,l,s,c,u,d,h,f,g,p;const v=[{id:t[2]},{removeFormAriaAttributes:!0},t[8],{"aria-autocomplete":"list"},{"aria-controls":t[2]+"-listbox"},{"aria-labelledby":t[2]+"-label"},{"aria-activedescendant":t[6]>=0&&!t[5]&&t[1].length>0?`${t[2]}-result-${t[6]}`:null}];function b(e){t[21](e)}function w(e){t[22](e)}let _={};for(let t=0;t<v.length;t+=1)_=e(_,v[t]);void 0!==t[4]&&(_.ref=t[4]),void 0!==t[0]&&(_.value=t[0]),i=new oe({props:_}),P.push((()=>ut(i,"ref",b))),P.push((()=>ut(i,"value",w))),i.$on("type",t[23]),i.$on("input",t[24]),i.$on("change",t[25]),i.$on("focus",t[26]),i.$on("focus",t[27]),i.$on("clear",t[28]),i.$on("clear",t[29]),i.$on("blur",t[30]),i.$on("keydown",t[31]),i.$on("keydown",t[32]);let F=!t[5]&&t[1].length>0&&ce(t);return{c(){n=x("div"),dt(i.$$.fragment),a=k(),l=x("ul"),F&&F.c(),H(l,"role","listbox"),H(l,"aria-labelledby",s=t[2]+"-label"),H(l,"id",c=t[2]+"-listbox"),H(l,"class","svelte-t0wd5r"),N(l,"svelte-typeahead-list",!0),H(n,"data-svelte-typeahead",""),H(n,"role","combobox"),H(n,"aria-haspopup","listbox"),H(n,"aria-owns",u=t[2]+"-listbox"),H(n,"aria-expanded",d=!t[5]&&t[1].length>0),H(n,"id",h=t[2]+"-typeahead"),H(n,"class","svelte-t0wd5r"),N(n,"dropdown",t[1].length>0)},m(e,r){$(e,n,r),ht(i,n,null),m(n,a),m(n,l),F&&F.m(l,null),t[34](n),f=!0,g||(p=M(window,"click",t[20]),g=!0)},p(t,e){const a=358&e[0]?st(v,[4&e[0]&&{id:t[2]},v[1],256&e[0]&&ct(t[8]),v[3],4&e[0]&&{"aria-controls":t[2]+"-listbox"},4&e[0]&&{"aria-labelledby":t[2]+"-label"},102&e[0]&&{"aria-activedescendant":t[6]>=0&&!t[5]&&t[1].length>0?`${t[2]}-result-${t[6]}`:null}]):{};!r&&16&e[0]&&(r=!0,a.ref=t[4],G((()=>r=!1))),!o&&1&e[0]&&(o=!0,a.value=t[0],G((()=>o=!1))),i.$set(a),!t[5]&&t[1].length>0?F?(F.p(t,e),34&e[0]&&at(F,1)):(F=ce(t),F.c(),at(F,1),F.m(l,null)):F&&(rt(),lt(F,1,1,(()=>{F=null})),ot()),(!f||4&e[0]&&s!==(s=t[2]+"-label"))&&H(l,"aria-labelledby",s),(!f||4&e[0]&&c!==(c=t[2]+"-listbox"))&&H(l,"id",c),(!f||4&e[0]&&u!==(u=t[2]+"-listbox"))&&H(n,"aria-owns",u),(!f||34&e[0]&&d!==(d=!t[5]&&t[1].length>0))&&H(n,"aria-expanded",d),(!f||4&e[0]&&h!==(h=t[2]+"-typeahead"))&&H(n,"id",h),2&e[0]&&N(n,"dropdown",t[1].length>0)},i(t){f||(at(i.$$.fragment,t),at(F),f=!0)},o(t){lt(i.$$.fragment,t),lt(F),f=!1},d(e){e&&y(n),ft(i),F&&F.d(),t[34](null),g=!1,p()}}}function he(t,n,i){let r,o;const a=["id","value","data","extract","disable","filter","autoselect","inputAfterSelect","results","focusAfterSelect","limit"];let l=f(n,a),{$$slots:s={},$$scope:c}=n,{id:u="typeahead-"+Math.random().toString(36)}=n,{value:d=""}=n,{data:g=[]}=n,{extract:p=(t=>t)}=n,{disable:m=(t=>!1)}=n,{filter:$=(t=>!1)}=n,{autoselect:y=!0}=n,{inputAfterSelect:v="update"}=n,{results:x=[]}=n,{focusAfterSelect:b=!1}=n,{limit:w=1/0}=n;const k=D();let _=null,M=null,H=!1,F=-1,C="";async function S(){const t=x[F],e=p(t.original),n=d;"clear"==v&&i(0,d=""),"update"==v&&i(0,d=e),k("select",{selectedIndex:F,searched:n,selected:e,original:t.original,originalIndex:t.index}),await Q(),b&&M.focus(),i(5,H=!0)}W((()=>{C!==o&&y&&i(6,F=0),C!==o&&i(5,H=0===x.length),C=o}));return t.$$set=t=>{n=e(e({},n),h(t)),i(8,l=f(n,a)),"id"in t&&i(2,u=t.id),"value"in t&&i(0,d=t.value),"data"in t&&i(9,g=t.data),"extract"in t&&i(10,p=t.extract),"disable"in t&&i(11,m=t.disable),"filter"in t&&i(12,$=t.filter),"autoselect"in t&&i(13,y=t.autoselect),"inputAfterSelect"in t&&i(14,v=t.inputAfterSelect),"results"in t&&i(1,x=t.results),"focusAfterSelect"in t&&i(15,b=t.focusAfterSelect),"limit"in t&&i(16,w=t.limit),"$$scope"in t&&i(18,c=t.$$scope)},t.$$.update=()=>{1024&t.$$.dirty[0]&&i(17,r={pre:"<mark>",post:"</mark>",extract:p}),203265&t.$$.dirty[0]&&i(1,x=te.filter(d,g,r).filter((({score:t})=>t>0)).slice(0,w).filter((t=>!$(t.original))).map((t=>({...t,disabled:m(t.original)})))),1026&t.$$.dirty[0]&&(o=x.map((t=>p(t.original))).join(""))},[d,x,u,_,M,H,F,S,l,g,p,m,$,y,v,b,w,r,c,s,({target:t})=>{!H&&x.length>0&&_&&!_.contains(t)&&i(5,H=!0)},function(t){M=t,i(4,M)},function(t){d=t,i(0,d)},function(e){j(t,e)},function(e){j(t,e)},function(e){j(t,e)},function(e){j(t,e)},()=>{i(5,H=!1)},function(e){j(t,e)},()=>{i(5,H=!1)},function(e){j(t,e)},function(e){j(t,e)},t=>{switch(t.key){case"Enter":S();break;case"ArrowDown":t.preventDefault(),i(6,F+=1),F===x.length&&i(6,F=0);break;case"ArrowUp":t.preventDefault(),i(6,F-=1),F<0&&i(6,F=x.length-1);break;case"Escape":t.preventDefault(),i(0,d=""),M.focus(),i(5,H=!0)}},(t,e)=>{t.disabled||(i(6,F=e),S())},function(t){P[t?"unshift":"push"]((()=>{_=t,i(3,_)}))}]}class fe extends pt{constructor(t){super(),gt(this,t,he,de,a,{id:2,value:0,data:9,extract:10,disable:11,filter:12,autoselect:13,inputAfterSelect:14,results:1,focusAfterSelect:15,limit:16},[-1,-1])}}function ge(t,e,n){const i=t.slice();return i[13]=e[n],i}function pe(t){let e,n,i,r,o=t[1](t[13])+"";function a(){return t[11](t[13])}return{c(){e=x("button"),n=w(o),H(e,"class","filter-button svelte-a89yzt")},m(t,o){$(t,e,o),m(e,n),i||(r=M(e,"click",a),i=!0)},p(e,i){t=e,18&i&&o!==(o=t[1](t[13])+"")&&C(n,o)},d(t){t&&y(e),i=!1,r()}}}function me(e){let n,i,r,o,a;return i=new _t({props:{icon:xt}}),{c(){n=x("span"),dt(i.$$.fragment),H(n,"class","clear-filter-button svelte-a89yzt")},m(t,l){$(t,n,l),ht(i,n,null),r=!0,o||(a=M(n,"click",e[12]),o=!0)},p:t,i(t){r||(at(i.$$.fragment,t),r=!0)},o(t){lt(i.$$.fragment,t),r=!1},d(t){t&&y(n),ft(i),o=!1,a()}}}function $e(t){let e,n,i,r,o,a,l;function s(e){t[8](e)}let c={data:t[0],extract:t[1],label:t[2],limit:5};void 0!==t[3]&&(c.value=t[3]),n=new fe({props:c}),P.push((()=>ut(n,"value",s))),n.$on("select",t[9]),n.$on("clear",t[10]);let u=t[4],d=[];for(let e=0;e<u.length;e+=1)d[e]=pe(ge(t,u,e));let h=t[3]&&me(t);return{c(){e=x("main"),dt(n.$$.fragment),r=k(),o=x("div");for(let t=0;t<d.length;t+=1)d[t].c();a=k(),h&&h.c(),H(o,"class","filter-buttons-container svelte-a89yzt"),H(e,"class","typeahead-filters svelte-a89yzt")},m(t,i){$(t,e,i),ht(n,e,null),m(e,r),m(e,o);for(let t=0;t<d.length;t+=1)d[t].m(o,null);m(o,a),h&&h.m(o,null),l=!0},p(t,[e]){const r={};if(1&e&&(r.data=t[0]),2&e&&(r.extract=t[1]),4&e&&(r.label=t[2]),!i&&8&e&&(i=!0,r.value=t[3],G((()=>i=!1))),n.$set(r),50&e){let n;for(u=t[4],n=0;n<u.length;n+=1){const i=ge(t,u,n);d[n]?d[n].p(i,e):(d[n]=pe(i),d[n].c(),d[n].m(o,a))}for(;n<d.length;n+=1)d[n].d(1);d.length=u.length}t[3]?h?(h.p(t,e),8&e&&at(h,1)):(h=me(t),h.c(),at(h,1),h.m(o,null)):h&&(rt(),lt(h,1,1,(()=>{h=null})),ot())},i(t){l||(at(n.$$.fragment,t),at(h),l=!0)},o(t){lt(n.$$.fragment,t),lt(h),l=!1},d(t){t&&y(e),ft(n),v(d,t),h&&h.d()}}}function ye(t,e,n){let i,{data:r=[]}=e,{extract:o=(()=>"")}=e,{filterButtons:a=[]}=e,{label:l="Filter"}=e,{setFilter:s=(()=>{})}=e,c="";function u(t){t?(s(t),n(3,c=o(t))):(s(null),n(3,c=""))}return t.$$set=t=>{"data"in t&&n(0,r=t.data),"extract"in t&&n(1,o=t.extract),"filterButtons"in t&&n(6,a=t.filterButtons),"label"in t&&n(2,l=t.label),"setFilter"in t&&n(7,s=t.setFilter)},t.$$.update=()=>{67&t.$$.dirty&&n(4,i=(()=>{const t=r.filter((t=>a.includes(o(t))));return a.map((e=>t.find((t=>e===o(t))))).filter((t=>t))})())},[r,o,l,c,i,u,a,s,function(t){c=t,n(3,c)},t=>u(t.detail.original),()=>u(null),t=>u(t),()=>u(null)]}class ve extends pt{constructor(t){super(),gt(this,t,ye,$e,a,{data:0,extract:1,filterButtons:6,label:2,setFilter:7})}}function xe(t){let e,n;return e=new ve({props:{data:t[0],extract:Zt,filterButtons:t[1],label:"Filter by Circuit",setFilter:t[2]}}),{c(){dt(e.$$.fragment)},m(t,i){ht(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.data=t[0]),2&n&&(i.filterButtons=t[1]),e.$set(i)},i(t){n||(at(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function be(t,e,n){let i,r,o,a;s(t,Pt,(t=>n(0,o=t))),s(t,Ut,(t=>n(5,a=t)));let{circuitFilter:l=null}=e;return t.$$set=t=>{"circuitFilter"in t&&n(3,l=t.circuitFilter)},t.$$.update=()=>{1&t.$$.dirty&&n(4,i=Wt(o,"circuitId")),48&t.$$.dirty&&n(1,r=function(t,e=2,n=1728e5){const i=(new Date).getTime();return t.filter((t=>new Date(t.date).getTime()-i+n>0)).sort(((t,e)=>t.date>e.date?1:-1)).slice(0,e)}(a).map((t=>Zt(i[t.circuitId]))))},[o,r,t=>n(3,l=t),l,i,a]}class we extends pt{constructor(t){super(),gt(this,t,be,xe,a,{circuitFilter:3})}}function ke(t){return`${t.forename} ${t.surname}`}function _e(t){let e,n;return e=new ve({props:{data:t[0],extract:ke,filterButtons:["Lewis Hamilton","Max Verstappen","Valtteri Bottas","Lando Norris","Charles Leclerc"],label:"Filter by Driver",setFilter:t[1]}}),{c(){dt(e.$$.fragment)},m(t,i){ht(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.data=t[0]),e.$set(i)},i(t){n||(at(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function Me(t,e,n){let i;s(t,Vt,(t=>n(0,i=t)));let{driverFilter:r=null}=e;return t.$$set=t=>{"driverFilter"in t&&n(2,r=t.driverFilter)},[i,t=>n(2,r=t),r]}class He extends pt{constructor(t){super(),gt(this,t,Me,_e,a,{driverFilter:2})}}function Fe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ce(t){let e=t,n=t;function i(t,e,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){const o=i+r>>>1;n(t[o],e)<0?i=o+1:r=o}return i}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>Fe(t(e),n)}(t)),{left:i,center:function(t,n,r,o){null==r&&(r=0),null==o&&(o=t.length);const a=i(t,n,r,o-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){const o=i+r>>>1;n(t[o],e)>0?r=o:i=o+1}return i}}}const Se=Ce(Fe).right;Ce((function(t){return null===t?NaN:+t})).center;var Te=Math.sqrt(50),Ie=Math.sqrt(10),Oe=Math.sqrt(2);function Ee(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=Te?10:o>=Ie?5:o>=Oe?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=Te?10:o>=Ie?5:o>=Oe?2:1)}function Re(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}var Ne={value:()=>{}};function ze(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Le(i)}function Le(t){this._=t}function Ae(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function We(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function De(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Ne,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function je(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qe(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Pe(){}Le.prototype=ze.prototype={constructor:Le,on:function(t,e){var n,i=this._,r=Ae(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=De(i[n],t.name,e);else if(null==e)for(n in i)i[n]=De(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=We(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Le(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Ve=.7,Be=1/Ve,Ue="\\s*([+-]?\\d+)\\s*",Xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ke="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qe=/^#([0-9a-f]{3,8})$/,Ye=new RegExp("^rgb\\("+[Ue,Ue,Ue]+"\\)$"),Ge=new RegExp("^rgb\\("+[Ke,Ke,Ke]+"\\)$"),Je=new RegExp("^rgba\\("+[Ue,Ue,Ue,Xe]+"\\)$"),Ze=new RegExp("^rgba\\("+[Ke,Ke,Ke,Xe]+"\\)$"),tn=new RegExp("^hsl\\("+[Xe,Ke,Ke]+"\\)$"),en=new RegExp("^hsla\\("+[Xe,Ke,Ke,Xe]+"\\)$"),nn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rn(){return this.rgb().formatHex()}function on(){return this.rgb().formatRgb()}function an(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Qe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ln(e):3===n?new dn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?sn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?sn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ye.exec(t))?new dn(e[1],e[2],e[3],1):(e=Ge.exec(t))?new dn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Je.exec(t))?sn(e[1],e[2],e[3],e[4]):(e=Ze.exec(t))?sn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=tn.exec(t))?pn(e[1],e[2]/100,e[3]/100,1):(e=en.exec(t))?pn(e[1],e[2]/100,e[3]/100,e[4]):nn.hasOwnProperty(t)?ln(nn[t]):"transparent"===t?new dn(NaN,NaN,NaN,0):null}function ln(t){return new dn(t>>16&255,t>>8&255,255&t,1)}function sn(t,e,n,i){return i<=0&&(t=e=n=NaN),new dn(t,e,n,i)}function cn(t){return t instanceof Pe||(t=an(t)),t?new dn((t=t.rgb()).r,t.g,t.b,t.opacity):new dn}function un(t,e,n,i){return 1===arguments.length?cn(t):new dn(t,e,n,null==i?1:i)}function dn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function hn(){return"#"+gn(this.r)+gn(this.g)+gn(this.b)}function fn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function gn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function pn(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $n(t,e,n,i)}function mn(t){if(t instanceof $n)return new $n(t.h,t.s,t.l,t.opacity);if(t instanceof Pe||(t=an(t)),!t)return new $n;if(t instanceof $n)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,l=o-r,s=(o+r)/2;return l?(a=e===o?(n-i)/l+6*(n<i):n===o?(i-e)/l+2:(e-n)/l+4,l/=s<.5?o+r:2-o-r,a*=60):l=s>0&&s<1?0:a,new $n(a,l,s,t.opacity)}function $n(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function yn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}je(Pe,an,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:rn,formatHex:rn,formatHsl:function(){return mn(this).formatHsl()},formatRgb:on,toString:on}),je(dn,un,qe(Pe,{brighter:function(t){return t=null==t?Be:Math.pow(Be,t),new dn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Ve:Math.pow(Ve,t),new dn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hn,formatHex:hn,formatRgb:fn,toString:fn})),je($n,(function(t,e,n,i){return 1===arguments.length?mn(t):new $n(t,e,n,null==i?1:i)}),qe(Pe,{brighter:function(t){return t=null==t?Be:Math.pow(Be,t),new $n(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ve:Math.pow(Ve,t),new $n(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new dn(yn(t>=240?t-240:t+120,r,i),yn(t,r,i),yn(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var vn=t=>()=>t;function xn(t){return 1==(t=+t)?bn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):vn(isNaN(e)?n:e)}}function bn(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):vn(isNaN(t)?e:t)}var wn=function t(e){var n=xn(e);function i(t,e){var i=n((t=un(t)).r,(e=un(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=bn(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function kn(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function _n(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=In(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}function Mn(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Hn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Fn(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=In(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var Cn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sn=new RegExp(Cn.source,"g");function Tn(t,e){var n,i,r,o=Cn.lastIndex=Sn.lastIndex=0,a=-1,l=[],s=[];for(t+="",e+="";(n=Cn.exec(t))&&(i=Sn.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),l[a]?l[a]+=r:l[++a]=r),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:Hn(n,i)})),o=Sn.lastIndex;return o<e.length&&(r=e.slice(o),l[a]?l[a]+=r:l[++a]=r),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,i=0;i<e;++i)l[(n=s[i]).i]=n.x(t);return l.join("")})}function In(t,e){var n,i,r=typeof e;return null==e||"boolean"===r?vn(e):("number"===r?Hn:"string"===r?(n=an(e))?(e=n,wn):Tn:e instanceof an?wn:e instanceof Date?Mn:(i=e,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(e)?_n:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Fn:Hn:kn))(t,e)}function On(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function En(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Rn(t){return(t=En(Math.abs(t)))?t[1]:NaN}ze("start","end","cancel","interrupt");var Nn,zn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ln(t){if(!(e=zn.exec(t)))throw new Error("invalid format: "+t);var e;return new An({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function An(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Wn(t,e){var n=En(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Ln.prototype=An.prototype,An.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Dn={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Wn(100*t,e),r:Wn,s:function(t,e){var n=En(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Nn=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+En(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jn(t){return t}var qn,Pn,Vn,Bn=Array.prototype.map,Un=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Xn(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?jn:(e=Bn.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,l=e[0],s=0;r>0&&l>0&&(s+l+1>i&&(l=Math.max(1,i-s)),o.push(t.substring(r-=l,r+l)),!((s+=l+1)>i));)l=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?jn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Bn.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=Ln(t)).fill,n=t.align,d=t.sign,h=t.symbol,f=t.zero,g=t.width,p=t.comma,m=t.precision,$=t.trim,y=t.type;"n"===y?(p=!0,y="g"):Dn[y]||(void 0===m&&(m=12),$=!0,y="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var v="$"===h?r:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?o:/[%p]/.test(y)?s:"",b=Dn[y],w=/[defgprs%]/.test(y);function k(t){var r,o,s,h=v,k=x;if("c"===y)k=b(t)+k,t="";else{var _=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:b(Math.abs(t),m),$&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),_&&0==+t&&"+"!==d&&(_=!1),h=(_?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===y?Un[8+Nn/3]:"")+k+(_&&"("===d?")":""),w)for(r=-1,o=t.length;++r<o;)if(48>(s=t.charCodeAt(r))||s>57){k=(46===s?a+t.slice(r+1):t.slice(r))+k,t=t.slice(0,r);break}}p&&!f&&(t=i(t,1/0));var M=h.length+t.length+k.length,H=M<g?new Array(g-M+1).join(e):"";switch(p&&f&&(t=i(H+t,H.length?g-k.length:1/0),H=""),n){case"<":t=h+t+k+H;break;case"=":t=h+H+t+k;break;case"^":t=H.slice(0,M=H.length>>1)+h+t+k+H.slice(M);break;default:t=H+h+t+k}return l(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:d,formatPrefix:function(t,e){var n=d(((t=Ln(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Rn(e)/3))),r=Math.pow(10,-i),o=Un[8+i/3];return function(t){return n(r*t)+o}}}}function Kn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}qn=Xn({thousands:",",grouping:[3],currency:["$",""]}),Pn=qn.format,Vn=qn.formatPrefix;const Qn=Symbol("implicit");function Yn(){var t=new Map,e=[],n=[],i=Qn;function r(r){var o=r+"",a=t.get(o);if(!a){if(i!==Qn)return i;t.set(o,a=e.push(r))}return n[(a-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const i of n){const n=i+"";t.has(n)||t.set(n,e.push(i))}return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Yn(e,n).unknown(i)},Kn.apply(r,arguments),r}function Gn(){var t,e,n=Yn().unknown(void 0),i=n.domain,r=n.range,o=0,a=1,l=!1,s=0,c=0,u=.5;function d(){var n=i().length,d=a<o,h=d?a:o,f=d?o:a;t=(f-h)/Math.max(1,n-s+2*c),l&&(t=Math.floor(t)),h+=(f-h-t*(n-s))*u,e=t*(1-s),l&&(h=Math.round(h),e=Math.round(e));var g=Re(n).map((function(e){return h+t*e}));return r(d?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),d()):i()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,l=!0,d()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(l=!!t,d()):l},n.padding=function(t){return arguments.length?(s=Math.min(1,c=+t),d()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),d()):s},n.paddingOuter=function(t){return arguments.length?(c=+t,d()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),d()):u},n.copy=function(){return Gn(i(),[o,a]).round(l).paddingInner(s).paddingOuter(c).align(u)},Kn.apply(d(),arguments)}function Jn(t){return+t}var Zn=[0,1];function ti(t){return t}function ei(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function ni(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=ei(r,i),o=n(a,o)):(i=ei(i,r),o=n(o,a)),function(t){return o(i(t))}}function ii(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=ei(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Se(t,e,1,i)-1;return o[n](r[n](e))}}function ri(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function oi(){var t,e,n,i,r,o,a=Zn,l=Zn,s=In,c=ti;function u(){var t,e,n,s=Math.min(a.length,l.length);return c!==ti&&(t=a[0],e=a[s-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),i=s>2?ii:ni,r=o=null,d}function d(e){return null==e||isNaN(e=+e)?n:(r||(r=i(a.map(t),l,s)))(t(c(e)))}return d.invert=function(n){return c(e((o||(o=i(l,a.map(t),Hn)))(n)))},d.domain=function(t){return arguments.length?(a=Array.from(t,Jn),u()):a.slice()},d.range=function(t){return arguments.length?(l=Array.from(t),u()):l.slice()},d.rangeRound=function(t){return l=Array.from(t),s=On,u()},d.clamp=function(t){return arguments.length?(c=!!t||ti,u()):c!==ti},d.interpolate=function(t){return arguments.length?(s=t,u()):s},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,i){return t=n,e=i,u()}}function ai(){return oi()(ti,ti)}function li(t,e,n,i){var r,o=function(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=Te?r*=10:o>=Ie?r*=5:o>=Oe&&(r*=2),e<t?-r:r}(t,e,n);switch((i=Ln(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Rn(e)/3)))-Rn(Math.abs(t)))}(o,a))||(i.precision=r),Vn(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rn(e)-Rn(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Rn(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Pn(i)}function si(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,r,o,a,l=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=Ee(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),i=Math.round(e/a);for(n*a<t&&++n,i*a>e&&--i,o=new Array(r=i-n+1);++l<r;)o[l]=(n+l)*a}else{a=-a;let n=Math.round(t*a),i=Math.round(e*a);for(n/a<t&&++n,i/a>e&&--i,o=new Array(r=i-n+1);++l<r;)o[l]=(n+l)/a}return i&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return li(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),a=0,l=o.length-1,s=o[a],c=o[l],u=10;for(c<s&&(r=s,s=c,c=r,r=a,a=l,l=r);u-- >0;){if((r=Ee(s,c,n))===i)return o[a]=s,o[l]=c,e(o);if(r>0)s=Math.floor(s/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;s=Math.ceil(s*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function ci(){var t=ai();return t.copy=function(){return ri(t,ci())},Kn.apply(t,arguments),si(t)}function ui(t){return t.reduce(((t,e)=>t+e),0)}function di(t,e,n){const i=t.slice();return i[49]=e[n],i[51]=n,i}function hi(t,e,n){const i=t.slice();return i[52]=e[n],i[54]=n,i}function fi(t,e,n){const i=t.slice();return i[49]=e[n],i}function gi(t){let e,n,i,o,a,l,s;function c(...e){return t[43](t[49],...e)}return{c(){e=b("rect"),H(e,"fill",n=t[1](t[49].key)),H(e,"height",i=t[21](t[12]-t[49].value)-t[21](t[12])),H(e,"opacity",o=t[0].labelIndex===t[49].labelIndex&&t[0].keyIndex===t[49].keyIndex||-1===t[0].labelIndex?1:.5),H(e,"width",bi),H(e,"x",t[15]),H(e,"y",a=t[21](t[49].value+t[49].lastSum)),H(e,"class","svelte-lrixpm")},m(n,i){$(n,e,i),l||(s=[M(e,"mouseover",c),M(e,"mouseout",t[44])],l=!0)},p(r,l){t=r,1048578&l[0]&&n!==(n=t[1](t[49].key))&&H(e,"fill",n),3149824&l[0]&&i!==(i=t[21](t[12]-t[49].value)-t[21](t[12]))&&H(e,"height",i),1048577&l[0]&&o!==(o=t[0].labelIndex===t[49].labelIndex&&t[0].keyIndex===t[49].keyIndex||-1===t[0].labelIndex?1:.5)&&H(e,"opacity",o),32768&l[0]&&H(e,"x",t[15]),3145728&l[0]&&a!==(a=t[21](t[49].value+t[49].lastSum))&&H(e,"y",a)},d(t){t&&y(e),l=!1,r(s)}}}function pi(t){let e,n,i,o,a,l,s,c,u;function d(...e){return t[45](t[51],t[54],...e)}return{c(){e=b("rect"),H(e,"fill",n=t[1](t[49].keys[t[54]])),H(e,"height",i=t[52].height),H(e,"opacity",o=t[0].labelIndex===t[51]&&t[0].keyIndex===t[54]||-1===t[0].labelIndex?1:.5),H(e,"width",a=t[52].width),H(e,"x",l=t[52].x),H(e,"y",s=t[52].y),H(e,"class","svelte-lrixpm")},m(n,i){$(n,e,i),c||(u=[M(e,"mouseover",d),M(e,"mouseout",t[46])],c=!0)},p(r,c){t=r,4194306&c[0]&&n!==(n=t[1](t[49].keys[t[54]]))&&H(e,"fill",n),4194304&c[0]&&i!==(i=t[52].height)&&H(e,"height",i),1&c[0]&&o!==(o=t[0].labelIndex===t[51]&&t[0].keyIndex===t[54]||-1===t[0].labelIndex?1:.5)&&H(e,"opacity",o),4194304&c[0]&&a!==(a=t[52].width)&&H(e,"width",a),4194304&c[0]&&l!==(l=t[52].x)&&H(e,"x",l),4194304&c[0]&&s!==(s=t[52].y)&&H(e,"y",s)},d(t){t&&y(e),c=!1,r(u)}}}function mi(t){let e,n,i,r,o,a,l=t[2](t[49].label)+"",s=t[7]&&$i(t);return{c(){s&&s.c(),e=b("text"),n=w(l),H(e,"class","key-label svelte-lrixpm"),H(e,"dy",i=t[4]?"0.5em":"1em"),H(e,"fill",r=t[49].labelValue>0?"":"#bbb"),H(e,"text-anchor",o=t[4]?"end":"middle"),H(e,"transform",a=`\n                  translate(${t[49].x+t[19]/2+(t[4]?-2:0)},${t[17]+(t[4]?1:0)+t[16]})\n                  rotate(${t[4]?"-90":"0"})\n                `),H(e,"x",0),H(e,"y",0)},m(t,i){s&&s.m(t,i),$(t,e,i),m(e,n)},p(t,c){t[7]?s?s.p(t,c):(s=$i(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),4194308&c[0]&&l!==(l=t[2](t[49].label)+"")&&C(n,l),16&c[0]&&i!==(i=t[4]?"0.5em":"1em")&&H(e,"dy",i),4194304&c[0]&&r!==(r=t[49].labelValue>0?"":"#bbb")&&H(e,"fill",r),16&c[0]&&o!==(o=t[4]?"end":"middle")&&H(e,"text-anchor",o),4915216&c[0]&&a!==(a=`\n                  translate(${t[49].x+t[19]/2+(t[4]?-2:0)},${t[17]+(t[4]?1:0)+t[16]})\n                  rotate(${t[4]?"-90":"0"})\n                `)&&H(e,"transform",a)},d(t){s&&s.d(t),t&&y(e)}}}function $i(t){let e,n,i,r;return{c(){e=b("line"),H(e,"class","x-tick svelte-lrixpm"),H(e,"x1",n=t[49].x+t[19]/2),H(e,"y1",t[17]),H(e,"x2",i=t[49].x+t[19]/2),H(e,"y2",r=t[17]+wi)},m(t,n){$(t,e,n)},p(t,o){4718592&o[0]&&n!==(n=t[49].x+t[19]/2)&&H(e,"x1",n),131072&o[0]&&H(e,"y1",t[17]),4718592&o[0]&&i!==(i=t[49].x+t[19]/2)&&H(e,"x2",i),131072&o[0]&&r!==(r=t[17]+wi)&&H(e,"y2",r)},d(t){t&&y(e)}}}function yi(t){let e,n,i,r,o,a=t[49].labelDisplayValue+"";return{c(){e=b("text"),n=w(a),H(e,"class","value-label svelte-lrixpm"),H(e,"text-anchor",i=t[4]?"start":"middle"),H(e,"dy",r=t[4]?"0.35em":0),H(e,"transform",o=`\n                  translate(${t[49].x+t[19]/2},${t[49].y-2})\n                  rotate(${t[4]?"-90":"0"})\n                `),H(e,"x",0),H(e,"y",0)},m(t,i){$(t,e,i),m(e,n)},p(t,l){4194304&l[0]&&a!==(a=t[49].labelDisplayValue+"")&&C(n,a),16&l[0]&&i!==(i=t[4]?"start":"middle")&&H(e,"text-anchor",i),16&l[0]&&r!==(r=t[4]?"0.35em":0)&&H(e,"dy",r),4718608&l[0]&&o!==(o=`\n                  translate(${t[49].x+t[19]/2},${t[49].y-2})\n                  rotate(${t[4]?"-90":"0"})\n                `)&&H(e,"transform",o)},d(t){t&&y(e)}}}function vi(t){let e,n,i,r=t[5](t[51]),o=t[6](t[51],t[49].labelValue),a=t[49].pixelValues,l=[];for(let e=0;e<a.length;e+=1)l[e]=pi(hi(t,a,e));let s=r&&mi(t),c=o&&yi(t);return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=_(),s&&s.c(),n=_(),c&&c.c(),i=_()},m(t,r){for(let e=0;e<l.length;e+=1)l[e].m(t,r);$(t,e,r),s&&s.m(t,r),$(t,n,r),c&&c.m(t,r),$(t,i,r)},p(t,u){if(20971523&u[0]){let n;for(a=t[49].pixelValues,n=0;n<a.length;n+=1){const i=hi(t,a,n);l[n]?l[n].p(i,u):(l[n]=pi(i),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=a.length}32&u[0]&&(r=t[5](t[51])),r?s?s.p(t,u):(s=mi(t),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),4194368&u[0]&&(o=t[6](t[51],t[49].labelValue)),o?c?c.p(t,u):(c=yi(t),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(t){v(l,t),t&&y(e),s&&s.d(t),t&&y(n),c&&c.d(t),t&&y(i)}}}function xi(e){let n,i,r,o,a,l,s,c,u,d,h,f,g,p,k,_,M,F,S,T,I=e[20],O=[];for(let t=0;t<I.length;t+=1)O[t]=gi(fi(e,I,t));let E=e[22],N=[];for(let t=0;t<E.length;t+=1)N[t]=vi(di(e,E,t));return{c(){n=x("main"),i=x("div"),r=x("div"),o=b("svg"),a=b("g");for(let t=0;t<O.length;t+=1)O[t].c();l=b("g");for(let t=0;t<N.length;t+=1)N[t].c();s=b("text"),c=w(e[9]),d=b("text"),h=w(e[10]),p=b("text"),k=w(e[8]),H(s,"text-anchor","middle"),H(s,"x",0),H(s,"y",0),H(s,"transform",u=`translate(${e[18]+(e[14]-e[18])/2},${e[13]-(e[4]?18:3)}) rotate(${e[4]?"180":"0"})`),H(s,"class","svelte-lrixpm"),H(d,"text-anchor","middle"),H(d,"x",0),H(d,"y",0),H(d,"transform",f=`translate(0,${e[17]/2}) rotate(-90)`),H(d,"dy",g=e[18]-3),H(d,"class","svelte-lrixpm"),H(p,"text-anchor","middle"),H(p,"x",0),H(p,"y",0),H(p,"transform",_=`translate(0,${e[17]/2}) rotate(-90)`),H(p,"dy",M=e[15]-3),H(p,"class","svelte-lrixpm"),H(o,"height",e[13]),H(o,"style",F=`margin-top: ${(e[14]-e[11])/2}px; margin-left: ${Math.min((e[11]-e[14])/2,0)}px; transform: rotate(${e[4]?"90":"0"}deg)`),H(o,"width",e[14]),H(r,"style",S=`height: ${e[3]}px`),Y((()=>e[47].call(r))),H(i,"style",e[23]),H(n,"class","svelte-lrixpm")},m(t,u){$(t,n,u),m(n,i),m(i,r),m(r,o),m(o,a);for(let t=0;t<O.length;t+=1)O[t].m(a,null);m(o,l);for(let t=0;t<N.length;t+=1)N[t].m(l,null);m(o,s),m(s,c),m(o,d),m(d,h),m(o,p),m(p,k),T=R(r,e[47].bind(r))},p(t,e){if(19959811&e[0]){let n;for(I=t[20],n=0;n<I.length;n+=1){const i=fi(t,I,n);O[n]?O[n].p(i,e):(O[n]=gi(i),O[n].c(),O[n].m(a,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=I.length}if(21692663&e[0]){let n;for(E=t[22],n=0;n<E.length;n+=1){const i=di(t,E,n);N[n]?N[n].p(i,e):(N[n]=vi(i),N[n].c(),N[n].m(l,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=E.length}512&e[0]&&C(c,t[9]),286736&e[0]&&u!==(u=`translate(${t[18]+(t[14]-t[18])/2},${t[13]-(t[4]?18:3)}) rotate(${t[4]?"180":"0"})`)&&H(s,"transform",u),1024&e[0]&&C(h,t[10]),131072&e[0]&&f!==(f=`translate(0,${t[17]/2}) rotate(-90)`)&&H(d,"transform",f),262144&e[0]&&g!==(g=t[18]-3)&&H(d,"dy",g),256&e[0]&&C(k,t[8]),131072&e[0]&&_!==(_=`translate(0,${t[17]/2}) rotate(-90)`)&&H(p,"transform",_),32768&e[0]&&M!==(M=t[15]-3)&&H(p,"dy",M),8192&e[0]&&H(o,"height",t[13]),18448&e[0]&&F!==(F=`margin-top: ${(t[14]-t[11])/2}px; margin-left: ${Math.min((t[11]-t[14])/2,0)}px; transform: rotate(${t[4]?"90":"0"}deg)`)&&H(o,"style",F),16384&e[0]&&H(o,"width",t[14]),8&e[0]&&S!==(S=`height: ${t[3]}px`)&&H(r,"style",S),8388608&e[0]&&H(i,"style",t[23])},i:t,o:t,d(t){t&&y(n),v(O,t),v(N,t),T()}}}const bi=25,wi=5;function ki(t,e,n){let i,r,o,a,l,s,c,u,d,h,f,g,p,m,$,y,v,x,b,w,k,_,M,H,F,{colorFunction:C=(()=>"black")}=e,{data:S=[]}=e,{font:T="16px Arial"}=e,{formatLabel:I=(t=>t)}=e,{height:O=500}=e,{hover:E={labelIndex:-1,keyIndex:-1}}=e,{maxHeight:R=null}=e,{rotated:N=!1}=e,{scale:z=""}=e,{showLabel:L=(()=>!0)}=e,{showLabelValue:A=((t,e)=>e>0)}=e,{showXTicks:W=!1}=e,{stackedTitle:D=""}=e,{xTitle:j=""}=e,{yTitle:q=""}=e;const P=document.createElement("canvas").getContext("2d");function V(t,e){n(0,E={labelIndex:t,keyIndex:e})}let B=500;return t.$$set=t=>{"colorFunction"in t&&n(1,C=t.colorFunction),"data"in t&&n(25,S=t.data),"font"in t&&n(26,T=t.font),"formatLabel"in t&&n(2,I=t.formatLabel),"height"in t&&n(3,O=t.height),"hover"in t&&n(0,E=t.hover),"maxHeight"in t&&n(27,R=t.maxHeight),"rotated"in t&&n(4,N=t.rotated),"scale"in t&&n(28,z=t.scale),"showLabel"in t&&n(5,L=t.showLabel),"showLabelValue"in t&&n(6,A=t.showLabelValue),"showXTicks"in t&&n(7,W=t.showXTicks),"stackedTitle"in t&&n(8,D=t.stackedTitle),"xTitle"in t&&n(9,j=t.xTitle),"yTitle"in t&&n(10,q=t.yTitle)},t.$$.update=()=>{67108864&t.$$.dirty[0]&&n(29,P.font=T,P),268435456&t.$$.dirty[0]&&n(30,i="log"===z?t=>Math.log(t+1):t=>t),1107296256&t.$$.dirty[0]&&n(31,r=S.map((t=>{const e=t.values,n=t.values.map(i),r=[];return n.reduce(((t,e)=>(r.push(t),t+e)),0),Object.assign(Object.assign({},t),{displayValues:e,labelDisplayValue:ui(e),labelValue:ui(n),lastSums:r,values:n})}))),1&t.$$.dirty[1]&&n(32,o=r.map((t=>t.label))),36&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(33,a=o.filter(((t,e)=>L(e))).map(I).reduce(((t,e)=>t.length>e.length?t:e),"")),1&t.$$.dirty[1]&&n(34,l=r.map((t=>t.labelValue))),1&t.$$.dirty[1]&&n(35,s=Math.max(...r.map((t=>t.labelDisplayValue)))),8&t.$$.dirty[1]&&n(36,c=Math.max(...l)),t.$$.dirty[1],8&t.$$.dirty[1]&&n(12,u=l.reduce(((t,e)=>t+e),0)),2072&t.$$.dirty[0]&&n(13,d=N?B:O),2072&t.$$.dirty[0]&&n(14,h=N?O:B),536871440&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(37,f=(N?P.measureText(a).width+10:20)+(j?20:0)),256&t.$$.dirty[0]&&n(15,g=D?20:0),536870928&t.$$.dirty[0]|16&t.$$.dirty[1]&&n(39,m=N?P.measureText(s.toString()).width+10:20),128&t.$$.dirty[0]&&n(16,$=W?wi:0),73728&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(17,y=d-f-$),16384&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(40,v=h-p),32768&t.$$.dirty[0]&&n(18,x=bi+50+g),262144&t.$$.dirty[0]|514&t.$$.dirty[1]&&n(41,b=Gn().domain(o).range([x,v])),131072&t.$$.dirty[0]|288&t.$$.dirty[1]&&n(42,w=ci().domain([0,c]).range([y,m])),135168&t.$$.dirty[0]|256&t.$$.dirty[1]&&n(21,k=ci().domain([0,u||0]).range([y,m])),1024&t.$$.dirty[1]&&n(19,_=b.bandwidth()),1&t.$$.dirty[1]&&n(20,M=r.map(((t,e)=>t.values.map(((n,i)=>({label:t.label,labelIndex:e,key:t.keys[i],keyIndex:i,value:n,lastSum:0}))))).flat().sort(((t,e)=>e.value-t.value))),1048576&t.$$.dirty[0]&&M.reduce(((t,e)=>(e.lastSum=t,t+=e.value)),0),524288&t.$$.dirty[0]|3073&t.$$.dirty[1]&&n(22,H=r.map((t=>{const e=t.values.map(((e,n)=>{const i=t.lastSums[n];return{height:w(0)-w(e),width:_,x:b(t.label),y:w(e+i)}}));return Object.assign(Object.assign({},t),{pixelValues:e,height:w(0)-w(t.labelValue),width:_,x:b(t.label),y:w(t.labelValue)})}))),134217728&t.$$.dirty[0]&&n(23,F=R>0?`max-height: ${R}px; overflow-y: auto; overflow-x: hidden;`:"")},n(38,p=10),[E,C,I,O,N,L,A,W,D,j,q,B,u,d,h,g,$,y,x,_,M,k,H,F,V,S,T,R,z,P,i,r,o,a,l,s,c,f,p,m,v,b,w,(t,e)=>V(t.labelIndex,t.keyIndex),t=>V(-1,-1),(t,e,n)=>V(t,e),t=>V(-1,-1),function(){B=this.clientWidth,n(11,B)}]}class _i extends pt{constructor(t){super(),gt(this,t,ki,xi,a,{colorFunction:1,data:25,font:26,formatLabel:2,height:3,hover:0,maxHeight:27,rotated:4,scale:28,showLabel:5,showLabelValue:6,showXTicks:7,stackedTitle:8,xTitle:9,yTitle:10},[-1,-1])}}function Mi(e){let n,i,r,o,a,l,s,c,u,d,h,f,g,p,v,b,_,M,F,S,T,I;return{c(){n=x("main"),i=x("div"),r=x("div"),o=x("div"),a=w(e[1]),l=k(),s=x("div"),c=x("div"),d=k(),h=x("div"),g=k(),p=x("div"),b=k(),_=x("div"),F=k(),S=x("div"),H(c,"class","rect1 svelte-vgbduw"),H(c,"style",u=`background-color: ${e[0]};`),H(h,"class","rect2 svelte-vgbduw"),H(h,"style",f=`background-color: ${e[0]};`),H(p,"class","rect3 svelte-vgbduw"),H(p,"style",v=`background-color: ${e[0]};`),H(_,"class","rect4 svelte-vgbduw"),H(_,"style",M=`background-color: ${e[0]};`),H(S,"class","rect5 svelte-vgbduw"),H(S,"style",T=`background-color: ${e[0]};`),H(s,"class","spinner svelte-vgbduw"),H(i,"class","loading-container svelte-vgbduw"),H(i,"style",I=`color: ${e[0]};`)},m(t,e){$(t,n,e),m(n,i),m(i,r),m(r,o),m(o,a),m(r,l),m(r,s),m(s,c),m(s,d),m(s,h),m(s,g),m(s,p),m(s,b),m(s,_),m(s,F),m(s,S)},p(t,[e]){2&e&&C(a,t[1]),1&e&&u!==(u=`background-color: ${t[0]};`)&&H(c,"style",u),1&e&&f!==(f=`background-color: ${t[0]};`)&&H(h,"style",f),1&e&&v!==(v=`background-color: ${t[0]};`)&&H(p,"style",v),1&e&&M!==(M=`background-color: ${t[0]};`)&&H(_,"style",M),1&e&&T!==(T=`background-color: ${t[0]};`)&&H(S,"style",T),1&e&&I!==(I=`color: ${t[0]};`)&&H(i,"style",I)},i:t,o:t,d(t){t&&y(n)}}}function Hi(t,e,n){let{color:i="black"}=e,{heading:r="Loading Data..."}=e;return t.$$set=t=>{"color"in t&&n(0,i=t.color),"heading"in t&&n(1,r=t.heading)},[i,r]}class Fi extends pt{constructor(t){super(),gt(this,t,Hi,Mi,a,{color:0,heading:1})}}function Ci(t){let e,n,i,r,o,a;return{c(){e=x("div"),n=w(t[0]),r=k(),o=x("div"),H(e,"class","popover svelte-1vm9bca"),H(e,"style",i=`top: ${t[4]}px; left: ${t[5]}px; right: ${t[6]}px;`),H(o,"class","arrow-down svelte-1vm9bca"),H(o,"style",a=`top: ${t[4]}px;`)},m(t,i){$(t,e,i),m(e,n),$(t,r,i),$(t,o,i)},p(t,r){1&r&&C(n,t[0]),112&r&&i!==(i=`top: ${t[4]}px; left: ${t[5]}px; right: ${t[6]}px;`)&&H(e,"style",i),16&r&&a!==(a=`top: ${t[4]}px;`)&&H(o,"style",a)},d(t){t&&y(e),t&&y(r),t&&y(o)}}}function Si(t){let e,n,i,o,a;Y(t[11]);const l=t[10].default,s=c(l,t,t[9],null);let u=t[3]&&Ci(t);return{c(){e=x("span"),s&&s.c(),n=k(),u&&u.c(),H(e,"class","popover-container svelte-1vm9bca"),T(e,"--theme-color","rgba(0,0,0,0.9)")},m(r,l){$(r,e,l),s&&s.m(e,null),m(e,n),u&&u.m(e,null),t[12](e),i=!0,o||(a=[M(window,"resize",t[11]),M(e,"click",t[13]),M(e,"mouseover",t[14]),M(e,"mouseleave",t[15])],o=!0)},p(t,[n]){s&&s.p&&(!i||512&n)&&d(s,l,t,t[9],n,null,null),t[3]?u?u.p(t,n):(u=Ci(t),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(t){i||(at(s,t),i=!0)},o(t){lt(s,t),i=!1},d(n){n&&y(e),s&&s.d(n),u&&u.d(),t[12](null),o=!1,r(a)}}}function Ti(t,e,n){let i,r,o,a,l,s,{$$slots:c={},$$scope:u}=e,{content:d=""}=e,{fullWidth:h=400}=e,f=!1;return t.$$set=t=>{"content"in t&&n(0,d=t.content),"fullWidth"in t&&n(7,h=t.fullWidth),"$$scope"in t&&n(9,u=t.$$scope)},t.$$.update=()=>{6&t.$$.dirty&&n(8,i=l&&s?s.getBoundingClientRect():{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}),386&t.$$.dirty&&n(4,({top:r,left:o,right:a}=function(t,e,n=0){const i=e/2,r=(t.right+t.left)/2,o=r-i,a=r+i,l=(t.right-t.left)/2-i;let s=l,c=l,u=Math.max(0,-o),d=Math.max(0,a-n);return s+=u,c+=d,n>e&&(s-=d,c-=u),{top:-15,left:s,right:c}}(i,h,l)),r,(n(5,o),n(8,i),n(7,h),n(1,l),n(2,s)),(n(6,a),n(8,i),n(7,h),n(1,l),n(2,s)))},[d,l,s,f,r,o,a,h,i,u,c,function(){n(1,l=window.innerWidth)},function(t){P[t?"unshift":"push"]((()=>{s=t,n(2,s)}))},()=>n(3,f=!f),()=>n(3,f=!0),()=>n(3,f=!1)]}class Ii extends pt{constructor(t){super(),gt(this,t,Ti,Si,a,{content:0,fullWidth:7})}}function Oi(e){let n,i;return n=new _t({props:{icon:vt}}),{c(){dt(n.$$.fragment)},m(t,e){ht(n,t,e),i=!0},p:t,i(t){i||(at(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){ft(n,t)}}}function Ei(e){let n,i;return n=new _t({props:{icon:vt}}),{c(){dt(n.$$.fragment)},m(t,e){ht(n,t,e),i=!0},p:t,i(t){i||(at(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){ft(n,t)}}}function Ri(t){let e,n,i,r,o,a;function l(e){t[16](e)}let s={colorFunction:t[0],data:t[3],height:2e3,rotated:!0,maxHeight:500,scale:t[4]?"log":"",stackedTitle:"Stacked Together",xTitle:"Statuses",yTitle:"Number of Races"};return void 0!==t[2]&&(s.hover=t[2]),e=new _i({props:s}),P.push((()=>ut(e,"hover",l))),{c(){dt(e.$$.fragment),i=k(),r=x("p"),o=w(t[5])},m(t,n){ht(e,t,n),$(t,i,n),$(t,r,n),m(r,o),a=!0},p(t,i){const r={};1&i&&(r.colorFunction=t[0]),8&i&&(r.data=t[3]),16&i&&(r.scale=t[4]?"log":""),!n&&4&i&&(n=!0,r.hover=t[2],G((()=>n=!1))),e.$set(r),(!a||32&i)&&C(o,t[5])},i(t){a||(at(e.$$.fragment,t),a=!0)},o(t){lt(e.$$.fragment,t),a=!1},d(t){ft(e,t),t&&y(i),t&&y(r)}}}function Ni(e){let n,i;return n=new Fi({}),{c(){dt(n.$$.fragment)},m(t,e){ht(n,t,e),i=!0},p:t,i(t){i||(at(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){ft(n,t)}}}function zi(t){let e,n,i,r,o,a,l,s,c,u,d,h,f,g,p,v,b;r=new Ii({props:{content:"This bar chart shows the distribution of race results in which drivers did and did not finish.",$$slots:{default:[Oi]},$$scope:{ctx:t}}}),d=new Ii({props:{content:"Scaling the value by the logarithm is useful for seeing smaller values that are overwhelmed by the larger ones.",$$slots:{default:[Ei]},$$scope:{ctx:t}}});const _=[Ni,Ri],F=[];function C(t,e){return 0===t[1].length?0:1}return f=C(t),g=F[f]=_[f](t),{c(){e=x("main"),n=x("h3"),i=w("Distribution of Race Finishes and Failures\n    "),dt(r.$$.fragment),o=k(),a=x("div"),l=x("div"),s=w("Log Scale\n      "),c=x("input"),u=k(),dt(d.$$.fragment),h=k(),g.c(),H(c,"type","checkbox")},m(g,y){$(g,e,y),m(e,n),m(n,i),ht(r,n,null),m(e,o),m(e,a),m(a,l),m(l,s),m(l,c),c.checked=t[4],m(l,u),ht(d,l,null),m(e,h),F[f].m(e,null),p=!0,v||(b=M(c,"change",t[15]),v=!0)},p(t,[n]){const i={};131072&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i),16&n&&(c.checked=t[4]);const o={};131072&n&&(o.$$scope={dirty:n,ctx:t}),d.$set(o);let a=f;f=C(t),f===a?F[f].p(t,n):(rt(),lt(F[a],1,1,(()=>{F[a]=null})),ot(),g=F[f],g?g.p(t,n):(g=F[f]=_[f](t),g.c()),at(g,1),g.m(e,null))},i(t){p||(at(r.$$.fragment,t),at(d.$$.fragment,t),at(g),p=!0)},o(t){lt(r.$$.fragment,t),lt(d.$$.fragment,t),lt(g),p=!1},d(t){t&&y(e),ft(r),ft(d),F[f].d(),v=!1,b()}}}function Li(t,e,n){let i,r,o,a,l,c,u,d,h;s(t,Yt,(t=>n(8,h=t)));let{colorFunction:f=(()=>"black")}=e,{didFinish:g=(()=>!0)}=e,{getHoverText:p=(()=>"")}=e,{results:m=[]}=e,$=!1,y={labelIndex:-1,keyIndex:-1};return t.$$set=t=>{"colorFunction"in t&&n(0,f=t.colorFunction),"didFinish"in t&&n(6,g=t.didFinish),"getHoverText"in t&&n(7,p=t.getHoverText),"results"in t&&n(1,m=t.results)},t.$$.update=()=>{258&t.$$.dirty&&n(3,i=function(t,e){const n=(()=>{const e={};return t.forEach((t=>{void 0===e[t.statusId]&&(e[t.statusId]=0),e[t.statusId]++})),e})();return Object.entries(n).map((t=>{var n;const i=(null===(n=e[t[0]])||void 0===n?void 0:n.status)||"";return{keys:[i],label:i,values:[t[1]]}})).sort(((t,e)=>e.values[0]-t.values[0]))}(m,h)),12&t.$$.dirty&&n(9,r=i[y.labelIndex]),580&t.$$.dirty&&n(10,o=g((null==r?void 0:r.keys[y.keyIndex])||"")),516&t.$$.dirty&&n(11,a=null==r?void 0:r.keys[y.keyIndex]),8&t.$$.dirty&&n(12,l=ui(i.map((t=>t.values)).flat())),516&t.$$.dirty&&n(13,c=null==r?void 0:r.values[null==y?void 0:y.keyIndex]),3072&t.$$.dirty&&n(14,u="Finished"===a?"":o?` with ${a}`:` for reason: ${a}`),30336&t.$$.dirty&&n(5,d=r?p(c,l,"",o?"Finished":"Did Not Finish",u):"Hover over the chart to see more!")},[f,m,y,i,$,d,g,p,h,r,o,a,l,c,u,function(){$=this.checked,n(4,$)},function(t){y=t,n(2,y)}]}class Ai extends pt{constructor(t){super(),gt(this,t,Li,zi,a,{colorFunction:0,didFinish:6,getHoverText:7,results:1})}}function Wi(e){let n,i;return n=new _t({props:{icon:vt}}),{c(){dt(n.$$.fragment)},m(t,e){ht(n,t,e),i=!0},p:t,i(t){i||(at(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){ft(n,t)}}}function Di(t){let e,n,i,r,o,a;function l(e){t[13](e)}let s={colorFunction:t[0],data:t[4],height:300,rotated:t[5],stackedTitle:"Stacked Together",xTitle:"Finished vs Did Not Finish",yTitle:"Number of Race Results"};return void 0!==t[3]&&(s.hover=t[3]),e=new _i({props:s}),P.push((()=>ut(e,"hover",l))),{c(){dt(e.$$.fragment),i=k(),r=x("p"),o=w(t[6])},m(t,n){ht(e,t,n),$(t,i,n),$(t,r,n),m(r,o),a=!0},p(t,i){const r={};1&i&&(r.colorFunction=t[0]),16&i&&(r.data=t[4]),32&i&&(r.rotated=t[5]),!n&&8&i&&(n=!0,r.hover=t[3],G((()=>n=!1))),e.$set(r),(!a||64&i)&&C(o,t[6])},i(t){a||(at(e.$$.fragment,t),a=!0)},o(t){lt(e.$$.fragment,t),a=!1},d(t){ft(e,t),t&&y(i),t&&y(r)}}}function ji(e){let n,i;return n=new Fi({}),{c(){dt(n.$$.fragment)},m(t,e){ht(n,t,e),i=!0},p:t,i(t){i||(at(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){ft(n,t)}}}function qi(t){let e,n,i,r,o,a,l,s,c;r=new Ii({props:{content:"This bar chart shows how many drivers did and did not finish their races.",$$slots:{default:[Wi]},$$scope:{ctx:t}}});const u=[ji,Di],d=[];function h(t,e){return 0===t[1].length?0:1}return a=h(t),l=d[a]=u[a](t),{c(){e=x("main"),n=x("h3"),i=w("Race Finishes vs Failures\n    "),dt(r.$$.fragment),o=k(),l.c(),Y((()=>t[14].call(e)))},m(l,u){$(l,e,u),m(e,n),m(n,i),ht(r,n,null),m(e,o),d[a].m(e,null),s=R(e,t[14].bind(e)),c=!0},p(t,[n]){const i={};32768&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);let o=a;a=h(t),a===o?d[a].p(t,n):(rt(),lt(d[o],1,1,(()=>{d[o]=null})),ot(),l=d[a],l?l.p(t,n):(l=d[a]=u[a](t),l.c()),at(l,1),l.m(e,null))},i(t){c||(at(r.$$.fragment,t),at(l),c=!0)},o(t){lt(r.$$.fragment,t),lt(l),c=!1},d(t){t&&y(e),ft(r),d[a].d(),s()}}}function Pi(t,e,n){let i,r,o,a,l,c,u;s(t,Yt,(t=>n(9,u=t)));let{colorFunction:d=(()=>"black")}=e,{didFinish:h=(()=>!0)}=e,{getHoverText:f=(()=>"")}=e,{results:g=[]}=e,p=0,m={labelIndex:-1,keyIndex:-1};return t.$$set=t=>{"colorFunction"in t&&n(0,d=t.colorFunction),"didFinish"in t&&n(7,h=t.didFinish),"getHoverText"in t&&n(8,f=t.getHoverText),"results"in t&&n(1,g=t.results)},t.$$.update=()=>{4&t.$$.dirty&&n(5,i=p>700),642&t.$$.dirty&&n(4,r=function(t,e,n){return Object.entries(t.reduce(((t,i)=>{var r;const o=null===(r=e[i.statusId])||void 0===r?void 0:r.status;return o&&(n(o)?t.Finished++:t["Did Not Finish"]++),t}),{Finished:0,"Did Not Finish":0})).map((([t,e])=>({keys:[t],label:t,values:[e]})))}(g,u,h)),24&t.$$.dirty&&n(10,o=r[m.labelIndex]),16&t.$$.dirty&&n(11,a=ui(r.map((t=>t.values)).flat())),1032&t.$$.dirty&&n(12,l=null==o?void 0:o.values[null==m?void 0:m.keyIndex]),7432&t.$$.dirty&&n(6,c=o?f(l,a,"",o.keys[m.keyIndex],""):"Hover over the chart to see more!")},[d,g,p,m,r,i,c,h,f,u,o,a,l,function(t){m=t,n(3,m)},function(){p=this.clientWidth,n(2,p)}]}class Vi extends pt{constructor(t){super(),gt(this,t,Pi,qi,a,{colorFunction:0,didFinish:7,getHoverText:8,results:1})}}function Bi(e){let n,i;return n=new _t({props:{icon:vt}}),{c(){dt(n.$$.fragment)},m(t,e){ht(n,t,e),i=!0},p:t,i(t){i||(at(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){ft(n,t)}}}function Ui(t){let e,n,i;function r(e){t[21](e)}let o={colorFunction:t[0],data:t[5],height:t[6]?1e3:500,maxHeight:500,rotated:t[6],showLabel:t[7],showLabelValue:t[8],showXTicks:!0,stackedTitle:"Stacked Together",xTitle:"Finished vs Did Not Finish Over Time",yTitle:"Number of Race Results"};return void 0!==t[4]&&(o.hover=t[4]),e=new _i({props:o}),P.push((()=>ut(e,"hover",r))),{c(){dt(e.$$.fragment)},m(t,n){ht(e,t,n),i=!0},p(t,i){const r={};1&i&&(r.colorFunction=t[0]),32&i&&(r.data=t[5]),64&i&&(r.height=t[6]?1e3:500),64&i&&(r.rotated=t[6]),128&i&&(r.showLabel=t[7]),256&i&&(r.showLabelValue=t[8]),!n&&16&i&&(n=!0,r.hover=t[4],G((()=>n=!1))),e.$set(r)},i(t){i||(at(e.$$.fragment,t),i=!0)},o(t){lt(e.$$.fragment,t),i=!1},d(t){ft(e,t)}}}function Xi(e){let n,i;return n=new Fi({}),{c(){dt(n.$$.fragment)},m(t,e){ht(n,t,e),i=!0},p:t,i(t){i||(at(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){ft(n,t)}}}function Ki(t){let e;return{c(){e=x("p"),e.innerHTML='1989 seems like a crazy year, in that drivers Did Not Finish for many races. Check out the <a href="https://en.wikipedia.org/wiki/1989_Formula_One_World_Championship#Results_and_standings" target="_blank" rel="noopener noreferrer">Wikiepdia article</a>.'},m(t,n){$(t,e,n)},d(t){t&&y(e)}}}function Qi(t){let e,n,i,r,o,a,l,s,c,u,d,h,f;r=new Ii({props:{content:"This bar chart shows how many drivers did and did not finish their races in each year.",$$slots:{default:[Bi]},$$scope:{ctx:t}}});const g=[Xi,Ui],p=[];function v(t,e){return 0===t[2].length?0:1}a=v(t),l=p[a]=g[a](t);let b=t[1]&&Ki();return{c(){e=x("main"),n=x("h3"),i=w("Race Finishes vs Failures\n    "),dt(r.$$.fragment),o=k(),l.c(),s=k(),c=x("p"),u=w(t[9]),d=k(),b&&b.c(),Y((()=>t[22].call(e)))},m(l,g){$(l,e,g),m(e,n),m(n,i),ht(r,n,null),m(e,o),p[a].m(e,null),m(e,s),m(e,c),m(c,u),m(e,d),b&&b.m(e,null),h=R(e,t[22].bind(e)),f=!0},p(t,[n]){const i={};8388608&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);let o=a;a=v(t),a===o?p[a].p(t,n):(rt(),lt(p[o],1,1,(()=>{p[o]=null})),ot(),l=p[a],l?l.p(t,n):(l=p[a]=g[a](t),l.c()),at(l,1),l.m(e,s)),(!f||512&n)&&C(u,t[9]),t[1]?b||(b=Ki(),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i(t){f||(at(r.$$.fragment,t),at(l),f=!0)},o(t){lt(r.$$.fragment,t),lt(l),f=!1},d(t){t&&y(e),ft(r),p[a].d(),b&&b.d(),h()}}}function Yi(t,e,n){let i,r,o,a,l,c,u,d,h,f,g,p,m,$;s(t,Qt,(t=>n(12,m=t))),s(t,Yt,(t=>n(13,$=t)));let{colorFunction:y=(()=>"black")}=e,{didFinish:v=(()=>!0)}=e,{getHoverText:x=(()=>"")}=e,{noFilters:b=!0}=e,{results:w=[]}=e,k=0,_={labelIndex:-1,keyIndex:-1};return t.$$set=t=>{"colorFunction"in t&&n(0,y=t.colorFunction),"didFinish"in t&&n(10,v=t.didFinish),"getHoverText"in t&&n(11,x=t.getHoverText),"noFilters"in t&&n(1,b=t.noFilters),"results"in t&&n(2,w=t.results)},t.$$.update=()=>{8&t.$$.dirty&&n(6,i=k<1e3),13316&t.$$.dirty&&n(5,r=function(t,e,n,i){return Object.entries(t.reduce(((t,r)=>{var o,a;const l=null===(o=e[r.raceId])||void 0===o?void 0:o.year,s=null===(a=n[r.statusId])||void 0===a?void 0:a.status;return l&&s&&(void 0===t[l]&&(t[l]={Finished:0,"Did Not Finish":0}),i(s)?t[l].Finished++:t[l]["Did Not Finish"]++),t}),{})).map((([t,e])=>({keys:Object.keys(e),label:t,values:Object.values(e)})))}(w,m,$,v)),32&t.$$.dirty&&n(7,o=t=>parseInt(r[t].label)%10==0),32&t.$$.dirty&&n(14,a=r.map((t=>ui(t.values)))),16384&t.$$.dirty&&n(15,({minValue:l,showLabelValueAtIndex:c}=a.reduce(((t,e,n)=>{t.minValue=Math.min(t.minValue||e,e);const i=a[n-1],r=a[n+1];return t.showLabelValueAtIndex.push(e>i&&e>r),t}),{minValue:null,showLabelValueAtIndex:[]})),l,(n(16,c),n(14,a),n(5,r),n(2,w),n(12,m),n(13,$),n(10,v))),98304&t.$$.dirty&&n(8,u=(t,e)=>e===l||c[t]),48&t.$$.dirty&&n(17,d=r[null==_?void 0:_.labelIndex]),131088&t.$$.dirty&&n(18,h=null==d?void 0:d.keys[_.keyIndex]),131072&t.$$.dirty&&n(19,f=ui((null==d?void 0:d.values)||[])),131088&t.$$.dirty&&n(20,g=null==d?void 0:d.values[null==_?void 0:_.keyIndex]),1968128&t.$$.dirty&&n(9,p=d?x(g,f,` in ${d.label}`,h,""):"Hover over the chart to see more!")},[y,b,w,k,_,r,i,o,u,p,v,x,m,$,a,l,c,d,h,f,g,function(t){_=t,n(4,_)},function(){k=this.clientWidth,n(3,k)}]}class Gi extends pt{constructor(t){super(),gt(this,t,Yi,Qi,a,{colorFunction:0,didFinish:10,getHoverText:11,noFilters:1,results:2})}}function Ji(t,e=0){return(100*t).toFixed(e)+"%"}function Zi(t,e){return null===t||e===t.circuitId}function tr(t,e){return null===t||e===t.driverId}function er(t){let e,n,i,o,a,l,s,c,u,d,h,f,g,p,v,b,_,F,S,I,O,E,R,N,z,L,A,W,D,j,q,V,B,U,X,K,Q,Y,J,Z,tt,et,nt,it,rt,ot,st,ct,gt,pt,mt;function $t(e){t[15](e)}let yt={};function vt(e){t[16](e)}void 0!==t[0]&&(yt.circuitFilter=t[0]),j=new we({props:yt}),P.push((()=>ut(j,"circuitFilter",$t)));let xt={};return void 0!==t[2]&&(xt.driverFilter=t[2]),X=new He({props:xt}),P.push((()=>ut(X,"driverFilter",vt))),Z=new Gi({props:{colorFunction:t[7],didFinish:t[6],getHoverText:t[4],noFilters:null===t[0]&&null===t[2],results:t[3]}}),it=new Vi({props:{colorFunction:t[7],didFinish:t[6],getHoverText:t[4],results:t[3]}}),ct=new Ai({props:{colorFunction:t[7],didFinish:t[6],getHoverText:t[4],results:t[3]}}),{c(){e=x("main"),n=x("header"),n.innerHTML='<div class="img-container"><img src="bottas-russel-crash.jpeg" alt="redbull"/> \n      <p>Photo from <a href="https://www.planetf1.com/news/valtteri-bottas-agreement-imola-crash/" target="_blank" rel="noopener noreferrer">planetf1</a></p></div> \n    <div class="heading-text"><h1>Why do drivers not finish their races?</h1></div>',i=k(),o=x("section"),a=x("p"),l=w("During Formula 1 races, not every driver actually finishes the race. Accidents and crashes are the most obvious reasons, but often the cars break down or the driver simply didn't qualify. How often do drivers not finish? Why do they not finish? Explore the visualizations below! "),s=w(t[5]),c=k(),u=x("div"),d=x("div"),h=x("span"),h.innerHTML="<b>Show:</b>",f=k(),g=x("span"),p=x("input"),v=k(),b=x("label"),b.textContent="All Results",_=k(),F=x("span"),S=x("input"),I=k(),O=x("label"),O.textContent="Only Finished Results",E=k(),R=x("span"),N=x("input"),z=k(),L=x("label"),L.textContent="Only Did Not Finished Results",A=k(),W=x("br"),D=k(),dt(j.$$.fragment),V=k(),B=x("br"),U=k(),dt(X.$$.fragment),Q=k(),Y=x("hr"),J=k(),dt(Z.$$.fragment),tt=k(),et=x("hr"),nt=k(),dt(it.$$.fragment),rt=k(),ot=x("hr"),st=k(),dt(ct.$$.fragment),H(p,"id","all"),H(p,"type","radio"),p.__value=null,p.value=p.__value,H(p,"class","svelte-cimji"),t[12][0].push(p),H(b,"for","all"),H(b,"class","svelte-cimji"),H(g,"class","radio-filter svelte-cimji"),T(g,"background-color","gray"),H(S,"id","Finished"),H(S,"type","radio"),S.__value="Finished",S.value=S.__value,H(S,"class","svelte-cimji"),t[12][0].push(S),H(O,"for","Finished"),H(O,"class","svelte-cimji"),H(F,"class","radio-filter svelte-cimji"),T(F,"background-color","green"),H(N,"id","DNF"),H(N,"type","radio"),N.__value="DNF",N.value=N.__value,H(N,"class","svelte-cimji"),t[12][0].push(N),H(L,"for","DNF"),H(L,"class","svelte-cimji"),H(R,"class","radio-filter svelte-cimji"),T(R,"background-color","#E74C3C"),H(d,"class","radio-fitlers")},m(r,y){$(r,e,y),m(e,n),m(e,i),m(e,o),m(o,a),m(a,l),m(a,s),m(o,c),m(o,u),m(u,d),m(d,h),m(d,f),m(d,g),m(g,p),p.checked=p.__value===t[1],m(g,v),m(g,b),m(d,_),m(d,F),m(F,S),S.checked=S.__value===t[1],m(F,I),m(F,O),m(d,E),m(d,R),m(R,N),N.checked=N.__value===t[1],m(R,z),m(R,L),m(o,A),m(o,W),m(o,D),ht(j,o,null),m(o,V),m(o,B),m(o,U),ht(X,o,null),m(o,Q),m(o,Y),m(o,J),ht(Z,o,null),m(o,tt),m(o,et),m(o,nt),ht(it,o,null),m(o,rt),m(o,ot),m(o,st),ht(ct,o,null),gt=!0,pt||(mt=[M(p,"change",t[11]),M(S,"change",t[13]),M(N,"change",t[14])],pt=!0)},p(t,[e]){(!gt||32&e)&&C(s,t[5]),2&e&&(p.checked=p.__value===t[1]),2&e&&(S.checked=S.__value===t[1]),2&e&&(N.checked=N.__value===t[1]);const n={};!q&&1&e&&(q=!0,n.circuitFilter=t[0],G((()=>q=!1))),j.$set(n);const i={};!K&&4&e&&(K=!0,i.driverFilter=t[2],G((()=>K=!1))),X.$set(i);const r={};16&e&&(r.getHoverText=t[4]),5&e&&(r.noFilters=null===t[0]&&null===t[2]),8&e&&(r.results=t[3]),Z.$set(r);const o={};16&e&&(o.getHoverText=t[4]),8&e&&(o.results=t[3]),it.$set(o);const a={};16&e&&(a.getHoverText=t[4]),8&e&&(a.results=t[3]),ct.$set(a)},i(t){gt||(at(j.$$.fragment,t),at(X.$$.fragment,t),at(Z.$$.fragment,t),at(it.$$.fragment,t),at(ct.$$.fragment,t),gt=!0)},o(t){lt(j.$$.fragment,t),lt(X.$$.fragment,t),lt(Z.$$.fragment,t),lt(it.$$.fragment,t),lt(ct.$$.fragment,t),gt=!1},d(n){n&&y(e),t[12][0].splice(t[12][0].indexOf(p),1),t[12][0].splice(t[12][0].indexOf(S),1),t[12][0].splice(t[12][0].indexOf(N),1),ft(j),ft(X),ft(Z),ft(it),ft(ct),pt=!1,r(mt)}}}function nr(t,e,n){let i,r,o,a,l,c;s(t,Xt,(t=>n(8,o=t))),s(t,Yt,(t=>n(9,a=t))),s(t,Qt,(t=>n(10,l=t))),s(t,Jt,(t=>n(5,c=t)));const u=t=>"Finished"===t||t.indexOf("Lap")>=0;let d=null,h=null,f=null;return t.$$.update=()=>{1799&t.$$.dirty&&n(3,i=o.filter((t=>{var e,n;return(null===h||u(h)===u((null===(e=a[t.statusId])||void 0===e?void 0:e.status)||""))&&Zi(d,null===(n=l[t.raceId])||void 0===n?void 0:n.circuitId)&&tr(f,t.driverId)}))),5&t.$$.dirty&&n(4,r=(t,e,n,i,r)=>`Out of ${e} race results${n||""}${d?` at ${Zt(d)}`:""}, there were ${t} (${Ji(t/e)}) instances in which ${f?ke(f):"drivers"} ${i} the race${r}.`)},[d,h,f,i,r,c,u,t=>u(t)?"green":"#E74C3C",o,a,l,function(){h=this.__value,n(1,h)},[[]],function(){h=this.__value,n(1,h)},function(){h=this.__value,n(1,h)},function(t){d=t,n(0,d)},function(t){f=t,n(2,f)}]}class ir extends pt{constructor(t){super(),gt(this,t,nr,er,a,{})}}const rr="/",or="/qualifying",ar="/did-not-finish";function lr(e){let n,i,o,a,l,s,c,u,d,h,f,g,v,b,_,M,F;return d=new _t({props:{icon:$t}}),b=new _t({props:{icon:yt}}),{c(){n=x("main"),i=x("section"),o=x("div"),a=x("h3"),a.textContent="Explore data about:",l=k(),s=x("div"),c=x("a"),u=w("Finishes vs Failures "),dt(d.$$.fragment),h=k(),f=x("div"),g=x("a"),v=w("Qualifying vs Race Results "),dt(b.$$.fragment),H(c,"class","route svelte-1wz9om8"),H(g,"class","route svelte-1wz9om8"),H(i,"class","svelte-1wz9om8"),H(n,"class","svelte-1wz9om8")},m(t,e){$(t,n,e),m(n,i),m(i,o),m(o,a),m(o,l),m(o,s),m(s,c),m(c,u),ht(d,c,null),m(o,h),m(o,f),m(f,g),m(g,v),ht(b,g,null),_=!0,M||(F=[p(Rt.call(null,c,ar)),p(Rt.call(null,g,or))],M=!0)},p:t,i(t){_||(at(d.$$.fragment,t),at(b.$$.fragment,t),_=!0)},o(t){lt(d.$$.fragment,t),lt(b.$$.fragment,t),_=!1},d(t){t&&y(n),ft(d),ft(b),M=!1,r(F)}}}class sr extends pt{constructor(t){super(),gt(this,t,null,lr,a,{})}}function cr(t){let e=null,n=null,i="";t.forEach((t=>{const r=t.position;if(r){const t=parseInt(r);t?((e>t||null===e)&&(e=t),(n<t||null===n)&&(n=t)):(i&&i!==r&&console.warn(`Unexpectedly encountered multiple non-integer positions '${i}' and '${r}'.`),i=r)}}));const r=[];if(null!==e&&null!==n)for(let t=e;t<=n;++t)r.push(t.toString());return i&&r.push(i),r}function ur(t){return isNaN(parseInt(t))?"DNF":t}function dr(t,e,n){const i=t.slice();return i[21]=e[n],i}function hr(e){let n,i;return n=new _t({props:{icon:vt}}),{c(){dt(n.$$.fragment)},m(t,e){ht(n,t,e),i=!0},p:t,i(t){i||(at(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){ft(n,t)}}}function fr(t){let e,n,i,r,a,l,s,c=t[21].position+"";return{c(){e=x("span"),n=x("span"),i=w(c),a=k(),H(n,"class",r=g(`position-option ${t[21].selected?"selected":""}${t[21].disabled?"disabled":""}`)+" svelte-kftw5q"),H(e,"class","position-option-container svelte-kftw5q")},m(r,c){$(r,e,c),m(e,n),m(n,i),m(e,a),l||(s=M(n,"click",(function(){o(t[21].onClick)&&t[21].onClick.apply(this,arguments)})),l=!0)},p(e,o){t=e,256&o&&c!==(c=t[21].position+"")&&C(i,c),256&o&&r!==(r=g(`position-option ${t[21].selected?"selected":""}${t[21].disabled?"disabled":""}`)+" svelte-kftw5q")&&H(n,"class",r)},d(t){t&&y(e),l=!1,s()}}}function gr(t){let e,n,i,r,o;return{c(){e=x("div"),n=w("Rotate Chart "),i=x("input"),H(i,"type","checkbox")},m(a,l){$(a,e,l),m(e,n),m(e,i),i.checked=t[6],r||(o=M(i,"change",t[18]),r=!0)},p(t,e){64&e&&(i.checked=t[6])},d(t){t&&y(e),r=!1,o()}}}function pr(e){let n;return{c(){n=w("Hover over the chart to see more!")},m(t,e){$(t,n,e)},p:t,d(t){t&&y(n)}}}function mr(t){let e,n,i=t[0](t[9].length,t[1][t[2]],t[11].values[t[3].keyIndex],t[11].keys[t[3].keyIndex])+"";return{c(){e=x("div"),n=w(i)},m(t,i){$(t,e,i),m(e,n)},p(t,e){2575&e&&i!==(i=t[0](t[9].length,t[1][t[2]],t[11].values[t[3].keyIndex],t[11].keys[t[3].keyIndex])+"")&&C(n,i)},d(t){t&&y(e)}}}function $r(t){let e,n,i,r,o,a,l,s,c,u,d,h,f,g,p,b;r=new Ii({props:{content:t[7],$$slots:{default:[hr]},$$scope:{ctx:t}}});let _=t[8],M=[];for(let e=0;e<_.length;e+=1)M[e]=fr(dr(t,_,e));let F=t[12]&&gr(t);function C(e){t[19](e)}let S={colorFunction:t[10],data:t[5],rotated:!t[12]||t[6],stackedTitle:"Stacked Together",xTitle:"Race Finish Position",yTitle:`Number of Finishes (total ${t[9].length})`};function T(t,e){return t[11]?mr:pr}void 0!==t[3]&&(S.hover=t[3]),h=new _i({props:S}),P.push((()=>ut(h,"hover",C)));let I=T(t),O=I(t);return{c(){e=x("main"),n=x("h3"),i=w("Race Results Given a Qualifying Position\n    "),dt(r.$$.fragment),o=k(),a=x("div"),a.textContent="Qualifying Position:",l=k(),s=x("div");for(let t=0;t<M.length;t+=1)M[t].c();c=k(),F&&F.c(),u=k(),d=x("div"),dt(h.$$.fragment),g=k(),O.c(),H(s,"class","positions-container svelte-kftw5q"),Y((()=>t[20].call(d)))},m(f,y){$(f,e,y),m(e,n),m(n,i),ht(r,n,null),m(e,o),m(e,a),m(e,l),m(e,s);for(let t=0;t<M.length;t+=1)M[t].m(s,null);m(e,c),F&&F.m(e,null),m(e,u),m(e,d),ht(h,d,null),m(d,g),O.m(d,null),p=R(d,t[20].bind(d)),b=!0},p(t,[n]){const i={};if(128&n&&(i.content=t[7]),16777216&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i),256&n){let e;for(_=t[8],e=0;e<_.length;e+=1){const i=dr(t,_,e);M[e]?M[e].p(i,n):(M[e]=fr(i),M[e].c(),M[e].m(s,null))}for(;e<M.length;e+=1)M[e].d(1);M.length=_.length}t[12]?F?F.p(t,n):(F=gr(t),F.c(),F.m(e,u)):F&&(F.d(1),F=null);const o={};1024&n&&(o.colorFunction=t[10]),32&n&&(o.data=t[5]),4160&n&&(o.rotated=!t[12]||t[6]),512&n&&(o.yTitle=`Number of Finishes (total ${t[9].length})`),!f&&8&n&&(f=!0,o.hover=t[3],G((()=>f=!1))),h.$set(o),I===(I=T(t))&&O?O.p(t,n):(O.d(1),O=I(t),O&&(O.c(),O.m(d,null)))},i(t){b||(at(r.$$.fragment,t),at(h.$$.fragment,t),b=!0)},o(t){lt(r.$$.fragment,t),lt(h.$$.fragment,t),b=!1},d(t){t&&y(e),ft(r),v(M,t),F&&F.d(),ft(h),O.d(),p()}}}function yr(t,e,n){let i,r,o,a,l,s,c,u,d,{distributionMaps:h=[]}=e,{getHoverText:f=((t,e,n,i)=>"")}=e,{qualifyingPositions:g=[]}=e,{resultPositions:p=[]}=e,{resultsForPositions:m=[]}=e,$=0,y={labelIndex:-1,keyIndex:-1},v=!1,x=0;return t.$$set=t=>{"distributionMaps"in t&&n(13,h=t.distributionMaps),"getHoverText"in t&&n(0,f=t.getHoverText),"qualifyingPositions"in t&&n(14,g=t.qualifyingPositions),"resultPositions"in t&&n(1,p=t.resultPositions),"resultsForPositions"in t&&n(15,m=t.resultsForPositions)},t.$$.update=()=>{32772&t.$$.dirty&&void 0===m[$]&&n(2,$=0),49156&t.$$.dirty&&n(8,r=g.map(((t,e)=>{const i=0===m[e].length;return{disabled:i,onClick:()=>{i||n(2,$=e)},position:t,selected:$===e}}))),16388&t.$$.dirty&&n(7,i=`Given all the drivers who qualified in position ${g[$]}, this chart plots the distribution of their race finishes.`),32772&t.$$.dirty&&n(9,o=m[$]||[]),8196&t.$$.dirty&&n(16,a=h[$]||{}),65538&t.$$.dirty&&n(5,l=p.map((t=>{const e=ur(t);return{keys:[e],label:e,values:[a[t]||0]}}))),16384&t.$$.dirty&&n(17,s=ci().domain([g[0],g[g.length-1]]).range(["green","#E9F7EF"])),131072&t.$$.dirty&&n(10,c=t=>s(t)||"gray"),40&t.$$.dirty&&n(11,u=l[y.labelIndex]),16&t.$$.dirty&&n(12,d=x>=700)},[f,p,$,y,x,l,v,i,r,o,c,u,d,h,g,m,a,s,function(){v=this.checked,n(6,v)},function(t){y=t,n(3,y)},function(){x=this.clientWidth,n(4,x)}]}class vr extends pt{constructor(t){super(),gt(this,t,yr,$r,a,{distributionMaps:13,getHoverText:0,qualifyingPositions:14,resultPositions:1,resultsForPositions:15})}}function xr(e){let n,i,r,o,a,l,s,c;return{c(){n=b("g"),i=b("line"),a=b("line"),H(i,"stroke",e[1]),H(i,"stroke-width",r=e[7]?e[3]:e[4]),H(i,"x1",o=-1*e[0]),H(a,"stroke",e[1]),H(a,"stroke-width",l=e[7]?e[3]:e[4]),H(a,"x1",s=-1*e[0]),H(a,"y1",e[5]),H(a,"y2",e[5]),H(n,"transform",c=`translate(${e[6](e[2])}) rotate(-90)`)},m(t,e){$(t,n,e),m(n,i),m(n,a)},p(t,[e]){2&e&&H(i,"stroke",t[1]),152&e&&r!==(r=t[7]?t[3]:t[4])&&H(i,"stroke-width",r),1&e&&o!==(o=-1*t[0])&&H(i,"x1",o),2&e&&H(a,"stroke",t[1]),152&e&&l!==(l=t[7]?t[3]:t[4])&&H(a,"stroke-width",l),1&e&&s!==(s=-1*t[0])&&H(a,"x1",s),32&e&&H(a,"y1",t[5]),32&e&&H(a,"y2",t[5]),68&e&&c!==(c=`translate(${t[6](t[2])}) rotate(-90)`)&&H(n,"transform",c)},i:t,o:t,d(t){t&&y(n)}}}function br(t,e,n){let i,{chartHeight:r=0}=e,{gridLinesColor:o=""}=e,{index:a=0}=e,{linesHighlightedWidth:l=0}=e,{linesNotHighlightedWidth:s=0}=e,{mouseoverColIndex:c=0}=e,{rectWidth:u=0}=e,{xScale:d=(()=>{})}=e;return t.$$set=t=>{"chartHeight"in t&&n(0,r=t.chartHeight),"gridLinesColor"in t&&n(1,o=t.gridLinesColor),"index"in t&&n(2,a=t.index),"linesHighlightedWidth"in t&&n(3,l=t.linesHighlightedWidth),"linesNotHighlightedWidth"in t&&n(4,s=t.linesNotHighlightedWidth),"mouseoverColIndex"in t&&n(8,c=t.mouseoverColIndex),"rectWidth"in t&&n(5,u=t.rectWidth),"xScale"in t&&n(6,d=t.xScale)},t.$$.update=()=>{260&t.$$.dirty&&n(7,i=a===c)},[r,o,a,l,s,u,d,i,c]}class wr extends pt{constructor(t){super(),gt(this,t,br,xr,a,{chartHeight:0,gridLinesColor:1,index:2,linesHighlightedWidth:3,linesNotHighlightedWidth:4,mouseoverColIndex:8,rectWidth:5,xScale:6})}}function kr(e){let n,i,o,a,l,s,c,u,d,h,f,g,p,v,x,k=e[14][0]+"",_=e[14][1]+"";return{c(){n=b("g"),i=b("text"),o=b("title"),a=w(e[15]),l=w(k),c=b("text"),u=b("title"),d=w(e[15]),h=w(_),H(i,"x",e[9]),H(i,"y",s=e[8]/2),H(i,"dy","0.32em"),H(i,"text-anchor","start"),H(c,"x",f=e[9]+e[11]-10-e[13]),H(c,"y",g=e[8]/2),H(c,"dy","0.32em"),H(c,"text-anchor","end"),H(n,"style",p=`\n    opacity: ${e[1]===e[3]||-1===e[4]&&-1===e[3]&&e[0]?e[5]:e[6]};\n    font-weight: ${e[1]===e[3]?"bold":"normal"};\n    transform: translateX(${e[12](e[1])}px) rotate(-90deg);\n    transition: ${e[10]};\n    transition-property: transform;\n  `)},m(t,r){$(t,n,r),m(n,i),m(i,o),m(o,a),m(i,l),m(n,c),m(c,u),m(u,d),m(c,h),v||(x=[M(n,"click",e[18]),M(n,"mouseover",e[19])],v=!0)},p(t,[e]){32768&e&&C(a,t[15]),16384&e&&k!==(k=t[14][0]+"")&&C(l,k),512&e&&H(i,"x",t[9]),256&e&&s!==(s=t[8]/2)&&H(i,"y",s),32768&e&&C(d,t[15]),16384&e&&_!==(_=t[14][1]+"")&&C(h,_),10752&e&&f!==(f=t[9]+t[11]-10-t[13])&&H(c,"x",f),256&e&&g!==(g=t[8]/2)&&H(c,"y",g),5243&e&&p!==(p=`\n    opacity: ${t[1]===t[3]||-1===t[4]&&-1===t[3]&&t[0]?t[5]:t[6]};\n    font-weight: ${t[1]===t[3]?"bold":"normal"};\n    transform: translateX(${t[12](t[1])}px) rotate(-90deg);\n    transition: ${t[10]};\n    transition-property: transform;\n  `)&&H(n,"style",p)},i:t,o:t,d(t){t&&y(n),v=!1,r(x)}}}function _r(t,e,n){let i,r,{formatColHeading:o=(()=>{})}=e,{data:a={name:"",count:0}}=e,{defaultHighlight:l=!1}=e,{index:s=0}=e,{mouseover:c=(()=>{})}=e,{mouseoverColIndex:u=0}=e,{mouseoverRowIndex:d=0}=e,{normalOpacity:h=1}=e,{notHighlightedOpacity:f=0}=e,{onClickHandler:g=(()=>{})}=e,{rectWidth:p=0}=e,{textOffset:m=0}=e,{transition:$=""}=e,{verticalTextSize:y=0}=e,{xScale:v=(()=>{})}=e,{yTitleSize:x=0}=e;return t.$$set=t=>{"formatColHeading"in t&&n(16,o=t.formatColHeading),"data"in t&&n(17,a=t.data),"defaultHighlight"in t&&n(0,l=t.defaultHighlight),"index"in t&&n(1,s=t.index),"mouseover"in t&&n(2,c=t.mouseover),"mouseoverColIndex"in t&&n(3,u=t.mouseoverColIndex),"mouseoverRowIndex"in t&&n(4,d=t.mouseoverRowIndex),"normalOpacity"in t&&n(5,h=t.normalOpacity),"notHighlightedOpacity"in t&&n(6,f=t.notHighlightedOpacity),"onClickHandler"in t&&n(7,g=t.onClickHandler),"rectWidth"in t&&n(8,p=t.rectWidth),"textOffset"in t&&n(9,m=t.textOffset),"transition"in t&&n(10,$=t.transition),"verticalTextSize"in t&&n(11,y=t.verticalTextSize),"xScale"in t&&n(12,v=t.xScale),"yTitleSize"in t&&n(13,x=t.yTitleSize)},t.$$.update=()=>{196608&t.$$.dirty&&n(14,i=o(a.name,a.count)),147456&t.$$.dirty&&n(15,r=a.name+" "+i[1])},[l,s,c,u,d,h,f,g,p,m,$,y,v,x,i,r,o,a,t=>g(t,-1,s),t=>c(t,-1,s)]}class Mr extends pt{constructor(t){super(),gt(this,t,_r,kr,a,{formatColHeading:16,data:17,defaultHighlight:0,index:1,mouseover:2,mouseoverColIndex:3,mouseoverRowIndex:4,normalOpacity:5,notHighlightedOpacity:6,onClickHandler:7,rectWidth:8,textOffset:9,transition:10,verticalTextSize:11,xScale:12,yTitleSize:13})}}function Hr(t,e,n){const i=t.slice();return i[33]=e[n],i[35]=n,i}function Fr(t){let e,n,i,o,a,l,s,c,u=t[5].name+", "+t[2][t[35]].name+": "+t[33].z;function d(...e){return t[29](t[35],...e)}function h(...e){return t[30](t[35],...e)}return{c(){e=b("rect"),n=b("title"),i=w(u),H(e,"fill",o=t[1](t[33])),H(e,"height",t[16]),H(e,"width",t[17]),H(e,"x",a=t[20](t[33].c)),H(e,"y",0),H(e,"style",l=`\n        opacity:${t[25]||t[35]===t[11]?t[13]:t[14]};\n        transition: ${t[19]};\n        transition-property: x;\n      `)},m(t,r){$(t,e,r),m(e,n),m(n,i),s||(c=[M(e,"mouseover",d),M(e,"click",h)],s=!0)},p(n,r){t=n,44&r[0]&&u!==(u=t[5].name+", "+t[2][t[35]].name+": "+t[33].z)&&C(i,u),10&r[0]&&o!==(o=t[1](t[33]))&&H(e,"fill",o),65536&r[0]&&H(e,"height",t[16]),131072&r[0]&&H(e,"width",t[17]),1048584&r[0]&&a!==(a=t[20](t[33].c))&&H(e,"x",a),34105344&r[0]&&l!==(l=`\n        opacity:${t[25]||t[35]===t[11]?t[13]:t[14]};\n        transition: ${t[19]};\n        transition-property: x;\n      `)&&H(e,"style",l)},d(t){t&&y(e),s=!1,r(c)}}}function Cr(e){let n,i,o,a,l,s,c,u,d,h,f,g,p,x,k,_,F,S,T,I,O=e[23][0]+"",E=e[23][1]+"",R=e[3],N=[];for(let t=0;t<R.length;t+=1)N[t]=Fr(Hr(e,R,t));return{c(){n=b("g");for(let t=0;t<N.length;t+=1)N[t].c();i=b("line"),a=b("line"),s=b("g"),c=b("text"),u=b("title"),d=w(e[24]),h=w(O),g=b("text"),p=b("title"),x=w(e[24]),k=w(E),H(i,"stroke",e[4]),H(i,"stroke-width",o=e[26]?e[8]:e[9]),H(i,"x2",e[0]),H(a,"stroke",e[4]),H(a,"stroke-width",l=e[26]?e[8]:e[9]),H(a,"x2",e[0]),H(a,"y1",e[16]),H(a,"y2",e[16]),H(c,"dy","0.35em"),H(c,"text-anchor","start"),H(c,"x",f=10-e[6]+e[21]),H(c,"y",0),H(g,"dy","0.35em"),H(g,"text-anchor","end"),H(g,"x",0),H(g,"y",0),H(s,"opacity",_=e[25]?e[13]:e[14]),H(s,"transform",F="translate(-"+e[18]+","+e[16]/2+")"),H(n,"style",S=`\n    font-weight: ${e[7]===e[12]?"bold":"normal"};\n    transform: translateY(${e[22](e[7])}px);\n    transition: ${e[19]};\n    transition-property: transform;\n  `)},m(t,r){$(t,n,r);for(let t=0;t<N.length;t+=1)N[t].m(n,null);m(n,i),m(n,a),m(n,s),m(s,c),m(c,u),m(u,d),m(c,h),m(s,g),m(g,p),m(p,x),m(g,k),T||(I=[M(s,"click",e[31]),M(s,"mouseover",e[32])],T=!0)},p(t,e){if(35384494&e[0]){let r;for(R=t[3],r=0;r<R.length;r+=1){const o=Hr(t,R,r);N[r]?N[r].p(o,e):(N[r]=Fr(o),N[r].c(),N[r].m(n,i))}for(;r<N.length;r+=1)N[r].d(1);N.length=R.length}16&e[0]&&H(i,"stroke",t[4]),67109632&e[0]&&o!==(o=t[26]?t[8]:t[9])&&H(i,"stroke-width",o),1&e[0]&&H(i,"x2",t[0]),16&e[0]&&H(a,"stroke",t[4]),67109632&e[0]&&l!==(l=t[26]?t[8]:t[9])&&H(a,"stroke-width",l),1&e[0]&&H(a,"x2",t[0]),65536&e[0]&&H(a,"y1",t[16]),65536&e[0]&&H(a,"y2",t[16]),16777216&e[0]&&C(d,t[24]),8388608&e[0]&&O!==(O=t[23][0]+"")&&C(h,O),2097216&e[0]&&f!==(f=10-t[6]+t[21])&&H(c,"x",f),16777216&e[0]&&C(x,t[24]),8388608&e[0]&&E!==(E=t[23][1]+"")&&C(k,E),33579008&e[0]&&_!==(_=t[25]?t[13]:t[14])&&H(s,"opacity",_),327680&e[0]&&F!==(F="translate(-"+t[18]+","+t[16]/2+")")&&H(s,"transform",F),4722816&e[0]&&S!==(S=`\n    font-weight: ${t[7]===t[12]?"bold":"normal"};\n    transform: translateY(${t[22](t[7])}px);\n    transition: ${t[19]};\n    transition-property: transform;\n  `)&&H(n,"style",S)},i:t,o:t,d(t){t&&y(n),v(N,t),T=!1,r(I)}}}function Sr(t,e,n){let i,r,o,a,{chartWidth:l=0}=e,{colorFunction:s=(()=>{})}=e,{columns:c=[]}=e,{data:u=[]}=e,{defaultHighlight:d=!1}=e,{formatRowHeading:h=(()=>{})}=e,{gridLinesColor:f=""}=e,{heading:g={name:"",count:0}}=e,{horizontalTextSize:p=0}=e,{index:m=0}=e,{linesHighlightedWidth:$=0}=e,{linesNotHighlightedWidth:y=0}=e,{mouseover:v=(()=>{})}=e,{mouseoverColIndex:x=0}=e,{mouseoverRowIndex:b=0}=e,{normalOpacity:w=1}=e,{notHighlightedOpacity:k=0}=e,{onClickHandler:_=(()=>{})}=e,{rectHeight:M=0}=e,{rectWidth:H=0}=e,{textOffset:F=0}=e,{transition:C=""}=e,{xScale:S=(()=>{})}=e,{xTitleSize:T=0}=e,{yScale:I=(()=>{})}=e;return t.$$set=t=>{"chartWidth"in t&&n(0,l=t.chartWidth),"colorFunction"in t&&n(1,s=t.colorFunction),"columns"in t&&n(2,c=t.columns),"data"in t&&n(3,u=t.data),"defaultHighlight"in t&&n(27,d=t.defaultHighlight),"formatRowHeading"in t&&n(28,h=t.formatRowHeading),"gridLinesColor"in t&&n(4,f=t.gridLinesColor),"heading"in t&&n(5,g=t.heading),"horizontalTextSize"in t&&n(6,p=t.horizontalTextSize),"index"in t&&n(7,m=t.index),"linesHighlightedWidth"in t&&n(8,$=t.linesHighlightedWidth),"linesNotHighlightedWidth"in t&&n(9,y=t.linesNotHighlightedWidth),"mouseover"in t&&n(10,v=t.mouseover),"mouseoverColIndex"in t&&n(11,x=t.mouseoverColIndex),"mouseoverRowIndex"in t&&n(12,b=t.mouseoverRowIndex),"normalOpacity"in t&&n(13,w=t.normalOpacity),"notHighlightedOpacity"in t&&n(14,k=t.notHighlightedOpacity),"onClickHandler"in t&&n(15,_=t.onClickHandler),"rectHeight"in t&&n(16,M=t.rectHeight),"rectWidth"in t&&n(17,H=t.rectWidth),"textOffset"in t&&n(18,F=t.textOffset),"transition"in t&&n(19,C=t.transition),"xScale"in t&&n(20,S=t.xScale),"xTitleSize"in t&&n(21,T=t.xTitleSize),"yScale"in t&&n(22,I=t.yScale)},t.$$.update=()=>{268435488&t.$$.dirty[0]&&n(23,i=h(g.name,g.count)),8388640&t.$$.dirty[0]&&n(24,r=g.name+" "+i[1]),134224e3&t.$$.dirty[0]&&n(25,o=m===b||-1===b&&-1===x&&d),4224&t.$$.dirty[0]&&n(26,a=m===b)},[l,s,c,u,f,g,p,m,$,y,v,x,b,w,k,_,M,H,F,C,S,T,I,i,r,o,a,d,h,(t,e)=>v(e,m,t),(t,e)=>_(e,m,t),t=>_(t,m,-1),t=>v(t,m,-1)]}class Tr extends pt{constructor(t){super(),gt(this,t,Sr,Cr,a,{chartWidth:0,colorFunction:1,columns:2,data:3,defaultHighlight:27,formatRowHeading:28,gridLinesColor:4,heading:5,horizontalTextSize:6,index:7,linesHighlightedWidth:8,linesNotHighlightedWidth:9,mouseover:10,mouseoverColIndex:11,mouseoverRowIndex:12,normalOpacity:13,notHighlightedOpacity:14,onClickHandler:15,rectHeight:16,rectWidth:17,textOffset:18,transition:19,xScale:20,xTitleSize:21,yScale:22},[-1,-1])}}function Ir(t,e,n){const i=t.slice();return i[46]=e[n],i[48]=n,i}function Or(t,e,n){const i=t.slice();return i[46]=e[n],i[48]=n,i}function Er(t,e,n){const i=t.slice();return i[46]=e[n],i[48]=n,i}function Rr(t){let e,n,i;return{c(){e=b("text"),n=w(t[17]),H(e,"x",i=t[21]+t[26]/2),H(e,"y",0),H(e,"dy","1em"),H(e,"text-anchor","middle")},m(t,i){$(t,e,i),m(e,n)},p(t,r){131072&r[0]&&C(n,t[17]),69206016&r[0]&&i!==(i=t[21]+t[26]/2)&&H(e,"x",i)},d(t){t&&y(e)}}}function Nr(t){let e,n;return e=new Mr({props:{data:t[46],defaultHighlight:t[4],formatColHeading:t[6],index:t[48],normalOpacity:t[11],notHighlightedOpacity:t[12],rectWidth:t[33],textOffset:t[14],transition:t[15],verticalTextSize:t[22],xScale:t[27],yTitleSize:t[20],mouseover:t[31],mouseoverColIndex:t[29],mouseoverRowIndex:t[30],onClickHandler:t[13]}}),{c(){dt(e.$$.fragment)},m(t,i){ht(e,t,i),n=!0},p(t,n){const i={};2&n[0]&&(i.data=t[46]),16&n[0]&&(i.defaultHighlight=t[4]),64&n[0]&&(i.formatColHeading=t[6]),2048&n[0]&&(i.normalOpacity=t[11]),4096&n[0]&&(i.notHighlightedOpacity=t[12]),4&n[1]&&(i.rectWidth=t[33]),16384&n[0]&&(i.textOffset=t[14]),32768&n[0]&&(i.transition=t[15]),4194304&n[0]&&(i.verticalTextSize=t[22]),134217728&n[0]&&(i.xScale=t[27]),1048576&n[0]&&(i.yTitleSize=t[20]),1&n[1]&&(i.mouseover=t[31]),536870912&n[0]&&(i.mouseoverColIndex=t[29]),1073741824&n[0]&&(i.mouseoverRowIndex=t[30]),8192&n[0]&&(i.onClickHandler=t[13]),e.$set(i)},i(t){n||(at(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function zr(t){let e,n,i;return{c(){e=b("text"),n=w(t[16]),H(e,"x",0),H(e,"y",0),H(e,"dy","1em"),H(e,"text-anchor","middle"),H(e,"transform",i=`translate(0,${t[23]/2}) rotate(-90)`)},m(t,i){$(t,e,i),m(e,n)},p(t,r){65536&r[0]&&C(n,t[16]),8388608&r[0]&&i!==(i=`translate(0,${t[23]/2}) rotate(-90)`)&&H(e,"transform",i)},d(t){t&&y(e)}}}function Lr(t){let e,n;return e=new Tr({props:{data:t[46],chartWidth:t[26],colorFunction:t[0],columns:t[1],defaultHighlight:t[4],formatRowHeading:t[7],gridLinesColor:t[8],heading:t[3][t[48]],horizontalTextSize:t[21],index:t[48],linesHighlightedWidth:t[9],linesNotHighlightedWidth:t[10],normalOpacity:t[11],notHighlightedOpacity:t[12],rectHeight:t[34],rectWidth:t[33],textOffset:t[14],transition:t[15],xScale:t[27],xTitleSize:t[19],yScale:t[28],mouseover:t[31],mouseoverColIndex:t[29],mouseoverRowIndex:t[30],onClickHandler:t[13]}}),{c(){dt(e.$$.fragment)},m(t,i){ht(e,t,i),n=!0},p(t,n){const i={};4&n[0]&&(i.data=t[46]),67108864&n[0]&&(i.chartWidth=t[26]),1&n[0]&&(i.colorFunction=t[0]),2&n[0]&&(i.columns=t[1]),16&n[0]&&(i.defaultHighlight=t[4]),128&n[0]&&(i.formatRowHeading=t[7]),256&n[0]&&(i.gridLinesColor=t[8]),8&n[0]&&(i.heading=t[3][t[48]]),2097152&n[0]&&(i.horizontalTextSize=t[21]),512&n[0]&&(i.linesHighlightedWidth=t[9]),1024&n[0]&&(i.linesNotHighlightedWidth=t[10]),2048&n[0]&&(i.normalOpacity=t[11]),4096&n[0]&&(i.notHighlightedOpacity=t[12]),8&n[1]&&(i.rectHeight=t[34]),4&n[1]&&(i.rectWidth=t[33]),16384&n[0]&&(i.textOffset=t[14]),32768&n[0]&&(i.transition=t[15]),134217728&n[0]&&(i.xScale=t[27]),524288&n[0]&&(i.xTitleSize=t[19]),268435456&n[0]&&(i.yScale=t[28]),1&n[1]&&(i.mouseover=t[31]),536870912&n[0]&&(i.mouseoverColIndex=t[29]),1073741824&n[0]&&(i.mouseoverRowIndex=t[30]),8192&n[0]&&(i.onClickHandler=t[13]),e.$set(i)},i(t){n||(at(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function Ar(t){let e,n;return e=new wr({props:{chartHeight:t[23],index:t[48],gridLinesColor:t[8],linesHighlightedWidth:t[9],linesNotHighlightedWidth:t[10],rectWidth:t[33],xScale:t[27],mouseoverColIndex:t[29]}}),{c(){dt(e.$$.fragment)},m(t,i){ht(e,t,i),n=!0},p(t,n){const i={};8388608&n[0]&&(i.chartHeight=t[23]),256&n[0]&&(i.gridLinesColor=t[8]),512&n[0]&&(i.linesHighlightedWidth=t[9]),1024&n[0]&&(i.linesNotHighlightedWidth=t[10]),4&n[1]&&(i.rectWidth=t[33]),134217728&n[0]&&(i.xScale=t[27]),536870912&n[0]&&(i.mouseoverColIndex=t[29]),e.$set(i)},i(t){n||(at(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function Wr(t){let e,n,i,r,a,l,s,c,u,d,h,f,g,p,w,F,C,S,T=t[17]&&Rr(t),I=t[1],O=[];for(let e=0;e<I.length;e+=1)O[e]=Nr(Er(t,I,e));const E=t=>lt(O[t],1,1,(()=>{O[t]=null}));let N=t[16]&&zr(t),z=t[2],L=[];for(let e=0;e<z.length;e+=1)L[e]=Lr(Or(t,z,e));const A=t=>lt(L[t],1,1,(()=>{L[t]=null}));let W=t[1],D=[];for(let e=0;e<W.length;e+=1)D[e]=Ar(Ir(t,W,e));const j=t=>lt(D[t],1,1,(()=>{D[t]=null}));return{c(){e=x("main"),n=x("div"),i=b("svg"),T&&T.c(),r=b("g");for(let t=0;t<O.length;t+=1)O[t].c();l=k(),s=x("div"),c=b("svg"),N&&N.c(),u=b("g");for(let t=0;t<L.length;t+=1)L[t].c();d=_();for(let t=0;t<D.length;t+=1)D[t].c();H(r,"transform",a=`translate(${t[21]}, ${t[22]})`),H(i,"width",t[25]),H(i,"height",t[22]),H(u,"transform",h=`translate(${t[21]})`),H(c,"width",f=t[25]-(t[24]?jr:0)),H(c,"height",t[23]),H(s,"style",g=`width:${t[25]}px;overflow-x:hidden;overflow-y:auto;`),H(n,"class","matrix svelte-1kvl1cr"),H(n,"style",p=`font: ${t[5]}`),Y((()=>t[45].call(n)))},m(a,h){$(a,e,h),m(e,n),m(n,i),T&&T.m(i,null),m(i,r);for(let t=0;t<O.length;t+=1)O[t].m(r,null);m(n,l),m(n,s),m(s,c),N&&N.m(c,null),m(c,u);for(let t=0;t<L.length;t+=1)L[t].m(u,null);m(u,d);for(let t=0;t<D.length;t+=1)D[t].m(u,null);w=R(n,t[45].bind(n)),F=!0,C||(S=M(n,"mouseleave",(function(){o(t[32])&&t[32].apply(this,arguments)})),C=!0)},p(e,o){if((t=e)[17]?T?T.p(t,o):(T=Rr(t),T.c(),T.m(i,r)):T&&(T.d(1),T=null),1750136914&o[0]|5&o[1]){let e;for(I=t[1],e=0;e<I.length;e+=1){const n=Er(t,I,e);O[e]?(O[e].p(n,o),at(O[e],1)):(O[e]=Nr(n),O[e].c(),at(O[e],1),O[e].m(r,null))}for(rt(),e=I.length;e<O.length;e+=1)E(e);ot()}if((!F||6291456&o[0]&&a!==(a=`translate(${t[21]}, ${t[22]})`))&&H(r,"transform",a),(!F||33554432&o[0])&&H(i,"width",t[25]),(!F||4194304&o[0])&&H(i,"height",t[22]),t[16]?N?N.p(t,o):(N=zr(t),N.c(),N.m(c,u)):N&&(N.d(1),N=null),2083061663&o[0]|13&o[1]){let e;for(z=t[2],e=0;e<z.length;e+=1){const n=Or(t,z,e);L[e]?(L[e].p(n,o),at(L[e],1)):(L[e]=Lr(n),L[e].c(),at(L[e],1),L[e].m(u,d))}for(rt(),e=z.length;e<L.length;e+=1)A(e);ot()}if(679479042&o[0]|4&o[1]){let e;for(W=t[1],e=0;e<W.length;e+=1){const n=Ir(t,W,e);D[e]?(D[e].p(n,o),at(D[e],1)):(D[e]=Ar(n),D[e].c(),at(D[e],1),D[e].m(u,null))}for(rt(),e=W.length;e<D.length;e+=1)j(e);ot()}(!F||2097152&o[0]&&h!==(h=`translate(${t[21]})`))&&H(u,"transform",h),(!F||50331648&o[0]&&f!==(f=t[25]-(t[24]?jr:0)))&&H(c,"width",f),(!F||8388608&o[0])&&H(c,"height",t[23]),(!F||33554432&o[0]&&g!==(g=`width:${t[25]}px;overflow-x:hidden;overflow-y:auto;`))&&H(s,"style",g),(!F||32&o[0]&&p!==(p=`font: ${t[5]}`))&&H(n,"style",p)},i(t){if(!F){for(let t=0;t<I.length;t+=1)at(O[t]);for(let t=0;t<z.length;t+=1)at(L[t]);for(let t=0;t<W.length;t+=1)at(D[t]);F=!0}},o(t){O=O.filter(Boolean);for(let t=0;t<O.length;t+=1)lt(O[t]);L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)lt(L[t]);D=D.filter(Boolean);for(let t=0;t<D.length;t+=1)lt(D[t]);F=!1},d(t){t&&y(e),T&&T.d(),v(O,t),N&&N.d(),v(L,t),v(D,t),w(),C=!1,S()}}}function Dr(t,e){let n=0;return t.forEach((t=>n+=t[e].z)),n}const jr=17;function qr(t,e,n,i){let r=0;for(let i=0;i<e.length;++i){const o=t.measureText(n(e[i].name,e[i].count).join(" ")).width;o>r&&(r=o)}return r+i+5}function Pr(t,e,n){let i,r,o,a,l,s,c,u,d,h,f,g,p,m,$,y,v,x,{colorFunction:b=(t=>"")}=e,{columns:w=[]}=e,{data:k=[]}=e,{orderBy:_=""}=e,{rows:M=[]}=e,{defaultHighlight:H=!0}=e,{font:F="16px Arial"}=e,{formatColHeading:C=((t,e)=>[t,e>0?`(${e})`:""])}=e,{formatRowHeading:S=((t,e)=>[t,e>0?`(${e})`:""])}=e,{gridLinesColor:T="gray"}=e,{height:I=700}=e,{linesHighlightedWidth:O=3}=e,{linesNotHighlightedWidth:E=1}=e,{minRectSize:R=20}=e,{normalOpacity:N=1}=e,{notHighlightedOpacity:z=.25}=e,{onClickHandler:L=((t,e,n)=>{})}=e,{onMouseOutHandler:A=(t=>{})}=e,{onMouseOverHandler:W=((t,e,n)=>{})}=e,{textOffset:D=5}=e,{transition:j="1s"}=e,{xTitle:q=""}=e,{yTitle:P=""}=e,V=-1,B=-1,U=500;const X=document.createElement("canvas").getContext("2d");return t.$$set=t=>{"colorFunction"in t&&n(0,b=t.colorFunction),"columns"in t&&n(1,w=t.columns),"data"in t&&n(2,k=t.data),"orderBy"in t&&n(35,_=t.orderBy),"rows"in t&&n(3,M=t.rows),"defaultHighlight"in t&&n(4,H=t.defaultHighlight),"font"in t&&n(5,F=t.font),"formatColHeading"in t&&n(6,C=t.formatColHeading),"formatRowHeading"in t&&n(7,S=t.formatRowHeading),"gridLinesColor"in t&&n(8,T=t.gridLinesColor),"height"in t&&n(36,I=t.height),"linesHighlightedWidth"in t&&n(9,O=t.linesHighlightedWidth),"linesNotHighlightedWidth"in t&&n(10,E=t.linesNotHighlightedWidth),"minRectSize"in t&&n(37,R=t.minRectSize),"normalOpacity"in t&&n(11,N=t.normalOpacity),"notHighlightedOpacity"in t&&n(12,z=t.notHighlightedOpacity),"onClickHandler"in t&&n(13,L=t.onClickHandler),"onMouseOutHandler"in t&&n(38,A=t.onMouseOutHandler),"onMouseOverHandler"in t&&n(39,W=t.onMouseOverHandler),"textOffset"in t&&n(14,D=t.textOffset),"transition"in t&&n(15,j=t.transition),"xTitle"in t&&n(16,q=t.xTitle),"yTitle"in t&&n(17,P=t.yTitle)},t.$$.update=()=>{32&t.$$.dirty[0]&&n(40,X.font=F,X),256&t.$$.dirty[1]&&n(31,i=(t,e,i)=>{n(29,V=i),n(30,B=e),W(t,e,i)}),128&t.$$.dirty[1]&&n(32,r=t=>{n(29,V=-1),n(30,B=-1),A(t)}),10&t.$$.dirty[0]&&n(41,o={rows:{name:Re(M.length).sort(((t,e)=>M)),count:Re(M.length).sort(((t,e)=>M[e].count-M[t].count))},columns:{name:Re(w.length).sort(((t,e)=>w)),count:Re(w.length).sort(((t,e)=>w[e].count-w[t].count))}}),65536&t.$$.dirty[0]&&n(19,a=q?20:0),131072&t.$$.dirty[0]&&n(20,l=P?20:0),540808&t.$$.dirty[0]|512&t.$$.dirty[1]&&n(21,s=qr(X,M,S,D)+a),1065026&t.$$.dirty[0]|512&t.$$.dirty[1]&&n(22,c=qr(X,w,C,D)+l),4194312&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(42,u=c+M.length*R),2080&t.$$.dirty[1]&&n(43,d=Math.max(u,I)),4194304&t.$$.dirty[0]|4096&t.$$.dirty[1]&&n(23,h=d-c-10),2080&t.$$.dirty[1]&&n(24,f=u>I),18874370&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(44,g=s+w.length*R+(f?jr:0)),262144&t.$$.dirty[0]|8192&t.$$.dirty[1]&&n(25,p=Math.max(g,U)),52428800&t.$$.dirty[0]&&n(26,m=p-s-(f?jr:0)),67108864&t.$$.dirty[0]|1040&t.$$.dirty[1]&&n(27,$=Gn().range([0,m]).domain(o.columns[_])),8388608&t.$$.dirty[0]|1040&t.$$.dirty[1]&&n(28,y=Gn().range([0,h]).domain(o.rows[_])),134217728&t.$$.dirty[0]&&n(33,v=$.bandwidth()),268435456&t.$$.dirty[0]&&n(34,x=y.bandwidth())},[b,w,k,M,H,F,C,S,T,O,E,N,z,L,D,j,q,P,U,a,l,s,c,h,f,p,m,$,y,V,B,i,r,v,x,_,I,R,A,W,X,o,u,d,g,function(){U=this.clientWidth,n(18,U)}]}class Vr extends pt{constructor(t){super(),gt(this,t,Pr,Wr,a,{colorFunction:0,columns:1,data:2,orderBy:35,rows:3,defaultHighlight:4,font:5,formatColHeading:6,formatRowHeading:7,gridLinesColor:8,height:36,linesHighlightedWidth:9,linesNotHighlightedWidth:10,minRectSize:37,normalOpacity:11,notHighlightedOpacity:12,onClickHandler:13,onMouseOutHandler:38,onMouseOverHandler:39,textOffset:14,transition:15,xTitle:16,yTitle:17},[-1,-1])}}function Br(e){let n,i;return n=new _t({props:{icon:vt}}),{c(){dt(n.$$.fragment)},m(t,e){ht(n,t,e),i=!0},p:t,i(t){i||(at(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){ft(n,t)}}}function Ur(e){let n;return{c(){n=w("Hover over the matrix to see more!")},m(t,e){$(t,n,e)},p:t,d(t){t&&y(n)}}}function Xr(t){let e,n,i=t[0](t[4][t[6].r].count,t[1][t[6].r],t[6].z,t[3][t[6].c].name)+"";return{c(){e=x("div"),n=w(i)},m(t,i){$(t,e,i),m(e,n)},p(t,e){91&e&&i!==(i=t[0](t[4][t[6].r].count,t[1][t[6].r],t[6].z,t[3][t[6].c].name)+"")&&C(n,i)},d(t){t&&y(e)}}}function Kr(t){let e,n,i,r,o,a,l,s;function c(t,e){return t[6]?Xr:Ur}r=new Ii({props:{content:"This matrix plots all the qualifyings finishes (rows) with the actual race finish (columns)",$$slots:{default:[Br]},$$scope:{ctx:t}}}),a=new Vr({props:{colorFunction:t[5],columns:t[3],data:t[2],gridLinesColor:"white",onMouseOverHandler:t[7],orderBy:"name",rows:t[4],xTitle:"Qualifying Position",yTitle:"Race Finish Position"}});let u=c(t),d=u(t);return{c(){e=x("main"),n=x("h3"),i=w("Qualifying vs Race Finish Positions\n    "),dt(r.$$.fragment),o=k(),dt(a.$$.fragment),l=k(),d.c()},m(t,c){$(t,e,c),m(e,n),m(n,i),ht(r,n,null),m(e,o),ht(a,e,null),m(e,l),d.m(e,null),s=!0},p(t,[n]){const i={};32768&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const o={};32&n&&(o.colorFunction=t[5]),8&n&&(o.columns=t[3]),4&n&&(o.data=t[2]),16&n&&(o.rows=t[4]),a.$set(o),u===(u=c(t))&&d?d.p(t,n):(d.d(1),d=u(t),d&&(d.c(),d.m(e,null)))},i(t){s||(at(r.$$.fragment,t),at(a.$$.fragment,t),s=!0)},o(t){lt(r.$$.fragment,t),lt(a.$$.fragment,t),s=!1},d(t){t&&y(e),ft(r),ft(a),d.d()}}}function Qr(t,e,n){let i,r,o,a,l,s,c;var u;let{distributionMaps:d=[]}=e,{getHoverText:h=((t,e,n,i)=>"")}=e,{qualifyingPositions:f=[]}=e,{resultPositions:g=[]}=e,p=-1,m=-1;return t.$$set=t=>{"distributionMaps"in t&&n(8,d=t.distributionMaps),"getHoverText"in t&&n(0,h=t.getHoverText),"qualifyingPositions"in t&&n(9,f=t.qualifyingPositions),"resultPositions"in t&&n(1,g=t.resultPositions)},t.$$.update=()=>{8450&t.$$.dirty&&n(2,i=d.map(((t,e)=>g.map(((i,o)=>{const a=t[i];return n(13,r=Math.max(r,a)),{c:o,r:e,z:a}}))))),4&t.$$.dirty&&n(13,r=i.reduce(((t,e)=>Math.max(t,e.reduce(((t,e)=>Math.max(t,e.z)),0))),0)),6&t.$$.dirty&&n(3,o=function(t,e){return e.map(((e,n)=>({name:e,count:Dr(t,n)})))}(i,g.map((t=>ur(t))))),516&t.$$.dirty&&n(4,a=function(t,e){return e.map(((e,n)=>({name:e,count:t[n].reduce(((t,e)=>t+e.z),0)})))}(i,f)),8192&t.$$.dirty&&n(14,l=ci().domain([0,Math.sqrt(r)]).range(["white","green"])),16384&t.$$.dirty&&n(5,s=t=>l(Math.sqrt(t.z))||""),7172&t.$$.dirty&&n(6,c=null===n(10,u=i[m])||void 0===u?void 0:u[p])},[h,g,i,o,a,s,c,function(t,e,i){n(11,p=i),n(12,m=e)},d,f,u,p,m,r,l]}class Yr extends pt{constructor(t){super(),gt(this,t,Qr,Kr,a,{distributionMaps:8,getHoverText:0,qualifyingPositions:9,resultPositions:1})}}function Gr(t){let e,n,i,r,o,a=t[8].date+"",l=t[8].name+"";return{c(){e=w("(Up-to-date to the "),n=w(a),i=k(),r=w(l),o=w(")")},m(t,a){$(t,e,a),$(t,n,a),$(t,i,a),$(t,r,a),$(t,o,a)},p(t,e){256&e&&a!==(a=t[8].date+"")&&C(n,a),256&e&&l!==(l=t[8].name+"")&&C(r,l)},d(t){t&&y(e),t&&y(n),t&&y(i),t&&y(r),t&&y(o)}}}function Jr(t){let e,n,i,r,o,a,l,s,c,u,d,h,f,g,p,m;function v(e){t[18](e)}let b={};function w(e){t[19](e)}void 0!==t[0]&&(b.circuitFilter=t[0]),e=new we({props:b}),P.push((()=>ut(e,"circuitFilter",v)));let _={};return void 0!==t[1]&&(_.driverFilter=t[1]),r=new He({props:_}),P.push((()=>ut(r,"driverFilter",w))),c=new vr({props:{distributionMaps:t[7],getHoverText:t[6],qualifyingPositions:t[4],resultPositions:t[3],resultsForPositions:t[5]}}),p=new Yr({props:{distributionMaps:t[7],getHoverText:t[6],qualifyingPositions:t[4],resultPositions:t[3]}}),{c(){dt(e.$$.fragment),i=k(),dt(r.$$.fragment),a=k(),l=x("hr"),s=k(),dt(c.$$.fragment),u=k(),d=x("br"),h=k(),f=x("hr"),g=k(),dt(p.$$.fragment)},m(t,n){ht(e,t,n),$(t,i,n),ht(r,t,n),$(t,a,n),$(t,l,n),$(t,s,n),ht(c,t,n),$(t,u,n),$(t,d,n),$(t,h,n),$(t,f,n),$(t,g,n),ht(p,t,n),m=!0},p(t,i){const a={};!n&&1&i&&(n=!0,a.circuitFilter=t[0],G((()=>n=!1))),e.$set(a);const l={};!o&&2&i&&(o=!0,l.driverFilter=t[1],G((()=>o=!1))),r.$set(l);const s={};128&i&&(s.distributionMaps=t[7]),64&i&&(s.getHoverText=t[6]),16&i&&(s.qualifyingPositions=t[4]),8&i&&(s.resultPositions=t[3]),32&i&&(s.resultsForPositions=t[5]),c.$set(s);const u={};128&i&&(u.distributionMaps=t[7]),64&i&&(u.getHoverText=t[6]),16&i&&(u.qualifyingPositions=t[4]),8&i&&(u.resultPositions=t[3]),p.$set(u)},i(t){m||(at(e.$$.fragment,t),at(r.$$.fragment,t),at(c.$$.fragment,t),at(p.$$.fragment,t),m=!0)},o(t){lt(e.$$.fragment,t),lt(r.$$.fragment,t),lt(c.$$.fragment,t),lt(p.$$.fragment,t),m=!1},d(t){ft(e,t),t&&y(i),ft(r,t),t&&y(a),t&&y(l),t&&y(s),ft(c,t),t&&y(u),t&&y(d),t&&y(h),t&&y(f),t&&y(g),ft(p,t)}}}function Zr(e){let n,i;return n=new Fi({}),{c(){dt(n.$$.fragment)},m(t,e){ht(n,t,e),i=!0},p:t,i(t){i||(at(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){ft(n,t)}}}function to(t){let e,n,i,r,o,a,l,s,c,u,d,h,f,g=t[8]&&Gr(t);const p=[Zr,Jr],v=[];function b(t,e){return 0===t[9].length||0===t[2].length?0:1}return d=b(t),h=v[d]=p[d](t),{c(){e=x("main"),n=x("header"),n.innerHTML='<div class="img-container"><img src="redbull.jpg" alt="redbull"/> \n      <p>Photo from <a href="https://www.formula1.com/en/latest/article.tech-tuesday-why-red-bull-could-hit-the-ground-running-in-2020.4h5ZgPepX96WB0HsianTBT.html" target="_blank" rel="noopener noreferrer">Formula 1</a></p></div> \n    <div class="heading-text"><h1>How do drivers&#39; qualifying finishes correlate with their race results?</h1></div>',i=k(),r=x("section"),o=x("div"),a=x("p"),l=w("To determine the starting lineup for each race, F1 currently runs a "),s=x("b"),s.textContent="qualifying",c=w(' session the day before, in which drivers compete to get the best lap times. Loosely, on the day of the race, drivers line up fastest to slowest based on their best qualifying lap times, with the fastest driver in front (aka "pole position"). During the actual race, of course, drivers constantly change positions, and the final race results are usually different from the initial lineup. Given a driver who qualified first, what are their chances of finishing the race first? Explore the data below! '),g&&g.c(),u=k(),h.c(),H(e,"class","qualifying-to-results")},m(t,h){$(t,e,h),m(e,n),m(e,i),m(e,r),m(r,o),m(o,a),m(a,l),m(a,s),m(a,c),g&&g.m(a,null),m(r,u),v[d].m(r,null),f=!0},p(t,[e]){t[8]?g?g.p(t,e):(g=Gr(t),g.c(),g.m(a,null)):g&&(g.d(1),g=null);let n=d;d=b(t),d===n?v[d].p(t,e):(rt(),lt(v[n],1,1,(()=>{v[n]=null})),ot(),h=v[d],h?h.p(t,e):(h=v[d]=p[d](t),h.c()),at(h,1),h.m(r,null))},i(t){f||(at(h),f=!0)},o(t){lt(h),f=!1},d(t){t&&y(e),g&&g.d(),v[d].d()}}}function eo(t,e,n){let i,r,o,a,l,c,u,d,h,f,g,p,m,$,y,v;s(t,Bt,(t=>n(12,p=t))),s(t,Xt,(t=>n(2,m=t))),s(t,Qt,(t=>n(14,$=t))),s(t,Gt,(t=>n(8,y=t))),s(t,Vt,(t=>n(9,v=t)));let x=null,b=null;return t.$$.update=()=>{2&t.$$.dirty&&n(10,i=b?ke(b):""),1024&t.$$.dirty&&n(6,r=(t,e,n,r)=>`Out of ${t} qualifyings in position ${e}, ${i||"drivers"} ${"DNF"===r?"did not finish (DNF) the race":`finished the race in position ${r}`} a total of ${n} times (${Ji(n/t)})`),4100&t.$$.dirty&&n(11,o=p.reduce(((t,e)=>(t[e.qualifyId]=m.find((t=>e.raceId===t.raceId&&e.driverId===t.driverId)),t)),{})),20483&t.$$.dirty&&n(13,a=function(t,e,n,i){return t.filter((t=>{var r;return Zi(n,null===(r=e[t.raceId])||void 0===r?void 0:r.circuitId)&&tr(i,t.driverId)}))}(p,$,x,b)),10240&t.$$.dirty&&n(15,l=a.map((t=>o[t.qualifyId])).filter((t=>t))),32768&t.$$.dirty&&n(3,c=cr(l)),8192&t.$$.dirty&&n(4,u=cr(a)),8&t.$$.dirty&&n(16,d=c.reduce(((t,e)=>(t[e]=0,t)),{})),8208&t.$$.dirty&&n(17,h=u.map((t=>a.filter((e=>e.position===t))))),133120&t.$$.dirty&&n(5,f=h.map((t=>t.map((t=>o[t.qualifyId])).filter((t=>t))))),65568&t.$$.dirty&&n(7,g=f.map((t=>t.reduce(((t,e)=>(void 0===t[e.position]?console.warn(`Encountered unexpected position ${e.position}`):t[e.position]++,t)),JSON.parse(JSON.stringify(d))))))},[x,b,m,c,u,f,r,g,y,v,i,o,p,a,$,l,d,h,function(t){x=t,n(0,x)},function(t){b=t,n(1,b)}]}class no extends pt{constructor(t){super(),gt(this,t,eo,to,a,{})}}function io(t){let e,n,i,r,o,a,l,s,c,u,d,h,f,g,v,b,_,M,F,S,T,I,O,E,R,N,z,L;return l=new _t({props:{icon:mt}}),u=new _t({props:{icon:bt}}),h=new At({props:{routes:t[1]}}),{c(){e=x("main"),n=x("nav"),i=x("section"),r=x("a"),o=x("h1"),a=w("Formula 1 Visualizations "),dt(l.$$.fragment),s=k(),c=x("a"),dt(u.$$.fragment),d=k(),dt(h.$$.fragment),f=k(),g=x("footer"),v=x("p"),b=w("Data provided by "),_=x("a"),_.textContent="Vopani",M=w(" on "),F=x("a"),F.textContent="Kaggle",S=w(". "),T=w(t[0]),I=k(),O=x("p"),O.innerHTML='Have feedback? Open an issue in the <a href="https://github.com/harryli0088/formula-one-visualizations" target="_blank" rel="noopener noreferrer">Github Repo</a>!',E=k(),R=x("p"),R.innerHTML='Built using <a href="https://svelte.dev/" target="_blank" rel="noopener noreferrer">Svelte</a> and <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">Typescript</a>',H(o,"class","svelte-1rzr2jq"),H(r,"id","logo"),H(r,"class","svelte-1rzr2jq"),H(c,"id","github-icon"),H(c,"href","https://github.com/harryli0088/formula-one-visualizations"),H(c,"target","_blank"),H(c,"rel","noopener noreferrer"),H(c,"class","svelte-1rzr2jq"),H(i,"class","svelte-1rzr2jq"),H(n,"class","svelte-1rzr2jq"),H(_,"href","https://www.kaggle.com/rohanrao"),H(_,"target","_blank"),H(_,"rel","noopener noreferrer"),H(F,"href","https://www.kaggle.com/rohanrao/formula-1-world-championship-1950-2020"),H(F,"target","_blank"),H(F,"rel","noopener noreferrer"),H(e,"class","svelte-1rzr2jq")},m(t,y){$(t,e,y),m(e,n),m(n,i),m(i,r),m(r,o),m(o,a),ht(l,o,null),m(i,s),m(i,c),ht(u,c,null),m(e,d),ht(h,e,null),m(e,f),m(e,g),m(g,v),m(v,b),m(v,_),m(v,M),m(v,F),m(v,S),m(v,T),m(g,I),m(g,O),m(g,E),m(g,R),N=!0,z||(L=p(Rt.call(null,r,rr)),z=!0)},p(t,[e]){(!N||1&e)&&C(T,t[0])},i(t){N||(at(l.$$.fragment,t),at(u.$$.fragment,t),at(h.$$.fragment,t),N=!0)},o(t){lt(l.$$.fragment,t),lt(u.$$.fragment,t),lt(h.$$.fragment,t),N=!1},d(t){t&&y(e),ft(l),ft(u),ft(h),z=!1,L()}}}function ro(t,e,n){let i;s(t,Jt,(t=>n(0,i=t)));return[i,{[rr]:sr,[ar]:ir,[or]:no,"*":sr}]}return new class extends pt{constructor(t){super(),gt(this,t,ro,io,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
